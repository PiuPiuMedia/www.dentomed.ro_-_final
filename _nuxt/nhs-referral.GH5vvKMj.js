import{d as fe,i as Qe,h as se,a2 as vr,S as kn,a3 as rt,a as D,a4 as Rt,o as yr,c as xe,b as re,w as qe,p as $t,a5 as br,a6 as _r,a7 as je,f as $r,a8 as wr,a9 as Ze,a0 as Ie,aa as Ut,M as ge,ab as xr,j as G,B as Ke,y as K,x as b,v as P,s as L,I as Sn,J as kr,ac as Sr,Z as Pr,X as Ar,m as Or,n as Ir,L as Cr,q as Er,k as he,A as Nr,D as Te,F as Bt,C as Gt,O as Rr,E as Mr,R as Fr,P as Tr}from"./entry.JSmkQhmI.js";import{_ as jr}from"./Breadcrumb.FOmvxjyK.js";import{_ as Dr,a as Vr}from"./Preview.vue.wCXsyp1d.js";import{n as qr}from"./index.browser.zSPcFHrV.js";const Lr=typeof window<"u",Pn=["__key","__init","__shim","__original","__index","__prevKey"];function Me(){return Math.random().toString(36).substring(2,15)}function Hr(e,t){const n=e instanceof Set?e:new Set(e);return t&&t.forEach(r=>n.add(r)),[...n]}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t,n=!0,r=["__key"]){if(e===t)return!0;if(typeof t=="object"&&typeof e=="object"){if(e instanceof Map||e instanceof Set)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return zr(e,t);if(e===null||t===null||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i of r)if((i in e||i in t)&&e[i]!==t[i])return!1;for(const i in e)if(!(i in t)||e[i]!==t[i]&&!n||n&&!W(e[i],t[i],n,r))return!1;return!0}return!1}function zr(e,t){return e.source===t.source&&e.flags.split("").sort().join("")===t.flags.split("").sort().join("")}function Y(e){const t=typeof e;if(t==="number")return!1;if(e===void 0)return!0;if(t==="string")return e==="";if(t==="object"){if(e===null)return!0;for(const n in e)return!1;return!(e instanceof RegExp||e instanceof Date)}return!1}function Kr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wr(e){const t=`^${Kr(e)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},r=Object.keys(n);return new RegExp(r.reduce((i,s)=>i.replace(s,n[s]),t))}function wt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Le(e){return wt(e)||Array.isArray(e)}function Ce(e){if(wt(e)===!1||e.__FKNode__||e.__POJO__===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(wt(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}function ve(e,t,n=!1,r=!1){if(t===null)return null;const i={};if(typeof t=="string")return t;for(const s in e)if(O(t,s)&&(t[s]!==void 0||!r)){if(n&&Array.isArray(e[s])&&Array.isArray(t[s])){i[s]=e[s].concat(t[s]);continue}if(t[s]===void 0)continue;Ce(e[s])&&Ce(t[s])?i[s]=ve(e[s],t[s],n,r):i[s]=t[s]}else i[s]=e[s];for(const s in t)!O(i,s)&&t[s]!==void 0&&(i[s]=t[s]);return i}function Ur(e){if(e[0]!=='"'&&e[0]!=="'"||e[0]!==e[e.length-1])return!1;const t=e[0];for(let n=1;n<e.length;n++)if(e[n]===t&&(n===1||e[n-1]!=="\\")&&n!==e.length-1)return!1;return!0}function Br(e){if(!e.length)return"";let t="",n="";for(let r=0;r<e.length;r++){const i=e.charAt(r);(i!=="\\"||n==="\\")&&(t+=i),n=i}return t}function $e(...e){return e.reduce((t,n)=>{const{value:r,name:i,modelValue:s,config:a,plugins:o,...f}=n;return Object.assign(t,f)},{})}function Gr(e){const t=[];let n="",r=0,i="",s="";for(let a=0;a<e.length;a++){const o=e.charAt(a);o===i&&s!=="\\"?i="":(o==="'"||o==='"')&&!i&&s!=="\\"?i=o:o==="("&&!i?r++:o===")"&&!i&&r--,o===","&&!i&&r===0?(t.push(n),n=""):(o!==" "||i)&&(n+=o),s=o}return n&&t.push(n),t}function Yt(e,t){const n={},r=t.filter(s=>s instanceof RegExp),i=new Set(t);for(const s in e)!i.has(s)&&!r.some(a=>a.test(s))&&(n[s]=e[s]);return n}function Zt(e,t){const n={},r=t.filter(i=>i instanceof RegExp);return t.forEach(i=>{i instanceof RegExp||(n[i]=e[i])}),Object.keys(e).forEach(i=>{r.some(s=>s.test(i))&&(n[i]=e[i])}),n}function Se(e){return e.replace(/-([a-z0-9])/gi,(t,n)=>n.toUpperCase())}function An(e){return e.replace(/([a-z0-9])([A-Z])/g,(t,n,r)=>n+"-"+r.toLowerCase()).replace(" ","-").toLowerCase()}function xt(e,t=Pn){if(e!==null&&typeof e=="object"){let n;if(Array.isArray(e)?n=[...e]:Ce(e)&&(n={...e}),n)return Zr(e,n,t),n}return e}function Ee(e,t=Pn){if(e===null||e instanceof RegExp||e instanceof Date||e instanceof Map||e instanceof Set||typeof File=="function"&&e instanceof File)return e;let n;Array.isArray(e)?n=e.map(r=>typeof r=="object"?Ee(r,t):r):n=Object.keys(e).reduce((r,i)=>(r[i]=typeof e[i]=="object"?Ee(e[i],t):e[i],r),{});for(const r of t)r in e&&Object.defineProperty(n,r,{enumerable:!1,value:e[r]});return n}function J(e){return typeof e=="object"?Ee(e):e}function Yr(e,t){if(!e||typeof e!="object")return null;const n=t.split(".");let r=e;for(const i in n){const s=n[i];if(O(r,s)&&(r=r[s]),+i===n.length-1)return r;if(!r||typeof r!="object")return null}return null}function Q(e){return e!==void 0&&e!=="false"&&e!==!1?!0:void 0}function Ne(e){return Object.isFrozen(e)?e:Object.defineProperty(e,"__init",{enumerable:!1,value:!0})}function Mt(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function Zr(e,t,n){for(const r of n)r in e&&Object.defineProperty(t,r,{enumerable:!1,value:e[r]});return t}function Dl(e,t,n){if(!Lr)return;n||(n=document);const r=n.getElementById(e);if(r)return t(r);const i=new MutationObserver(()=>{const s=n==null?void 0:n.getElementById(e);s&&(i==null||i.disconnect(),t(s))});i.observe(n,{childList:!0,subtree:!0})}function Jr(e){let t=!1;return(...n)=>{if(!t)return t=!0,queueMicrotask(()=>t=!1),e(...n)}}function Ft(){const e=[];let t=0;const n=i=>e.push(i),r=i=>{const s=e[t];return typeof s=="function"?s(i,a=>(t++,r(a))):(t=0,i)};return n.dispatch=r,n.unshift=i=>e.unshift(i),n.remove=i=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)},n}function On(){const e=new Map,t=new Map;let n;const r=(i,s)=>{if(n){n.set(s.name,[i,s]);return}e.has(s.name)&&e.get(s.name).forEach(a=>{(s.origin===i||a.modifiers.includes("deep"))&&a.listener(s)}),s.bubble&&i.bubble(s)};return r.flush=()=>{e.clear(),t.clear(),n==null||n.clear()},r.on=(i,s)=>{const[a,...o]=i.split("."),f=s.receipt||Me(),_={modifiers:o,event:a,listener:s,receipt:f};return e.has(a)?e.get(a).push(_):e.set(a,[_]),t.has(f)?t.get(f).push(a):t.set(f,[a]),f},r.off=i=>{var s;t.has(i)&&((s=t.get(i))===null||s===void 0||s.forEach(a=>{const o=e.get(a);Array.isArray(o)&&e.set(a,o.filter(f=>f.receipt!==i))}),t.delete(i))},r.pause=i=>{n||(n=new Map),i&&i.walk(s=>s._e.pause())},r.play=i=>{if(!n)return;const s=n;n=void 0,s.forEach(([a,o])=>r(a,o)),i&&i.walk(a=>a._e.play())},r}function Qr(e,t,n,r,i=!0,s){return t._e(e,{payload:r,name:n,bubble:i,origin:e,meta:s}),e}function Xr(e,t,n){return Ue(e.parent)&&e.parent._e(e.parent,n),e}function ei(e,t,n,r){return t._e.on(n,r)}function ti(e,t,n){return t._e.off(n),e}const Tt=Ft();Tt((e,t)=>(e.message||(e.message=`E${e.code}`),t(e)));const jt=Ft();jt((e,t)=>{e.message||(e.message=`W${e.code}`);const n=t(e);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function We(e,t={}){jt.dispatch({code:e,data:t})}function B(e,t={}){throw Error(Tt.dispatch({code:e,data:t}).message)}function ee(e,t){const n={blocking:!1,key:Me(),meta:{},type:"state",visible:!0,...e};return t&&n.value&&n.meta.localize!==!1&&(n.value=t.t(n),n.meta.locale=t.config.locale),n}const Jt={apply:oi,set:ri,remove:In,filter:si,reduce:ai,release:ci,touch:ii};function ni(e=!1){const t={};let n,r=e,i=[];const s=new Map;let a;const o=new Proxy(t,{get(...f){const[_,g]=f;return g==="buffer"?r:g==="_b"?i:g==="_m"?s:g==="_r"?a:O(Jt,g)?Jt[g].bind(null,t,o,n):Reflect.get(...f)},set(f,_,g){return _==="_n"?(n=g,a==="__n"&&Cn(n,o),!0):_==="_b"?(i=g,!0):_==="buffer"?(r=g,!0):_==="_r"?(a=g,!0):(B(101,n),!1)}});return o}function ri(e,t,n,r){if(t.buffer)return t._b.push([[r]]),t;if(e[r.key]!==r){if(typeof r.value=="string"&&r.meta.localize!==!1){const s=r.value;r.value=n.t(r),r.value!==s&&(r.meta.locale=n.props.locale)}const i=`message-${O(e,r.key)?"updated":"added"}`;e[r.key]=Object.freeze(n.hook.message.dispatch(r)),n.emit(i,r)}return t}function ii(e,t){for(const n in e){const r={...e[n]};t.set(r)}}function In(e,t,n,r){if(O(e,r)){const i=e[r];delete e[r],n.emit("message-removed",i)}return t.buffer===!0&&(t._b=t._b.filter(i=>(i[0]=i[0].filter(s=>s.key!==r),i[1]||i[0].length))),t}function si(e,t,n,r,i){for(const s in e){const a=e[s];(!i||a.type===i)&&!r(a)&&In(e,t,n,s)}}function ai(e,t,n,r,i){for(const s in e){const a=e[s];i=r(i,a)}return i}function oi(e,t,n,r,i){if(Array.isArray(r)){if(t.buffer){t._b.push([r,i]);return}const s=new Set(r.map(a=>(t.set(a),a.key)));typeof i=="string"?t.filter(a=>a.type!==i||s.has(a.key)):typeof i=="function"&&t.filter(a=>!i(a)||s.has(a.key))}else for(const s in r){const a=n.at(s);a?a.store.apply(r[s],i):ui(n,t,s,r[s],i)}}function li(e,...t){const n=`${e.name}-set`,r=i=>ee({key:Mt(i),type:"error",value:i,meta:{source:n,autoClear:!0}});return t.filter(i=>!!i).map(i=>{if(typeof i=="string"&&(i=[i]),Array.isArray(i))return i.map(s=>r(s));{const s={};for(const a in i)Array.isArray(i[a])?s[a]=i[a].map(o=>r(o)):s[a]=[r(i[a])];return s}})}function ui(e,t,n,r,i){var s;const a=t._m;a.has(n)||a.set(n,[]),t._r||(t._r=Cn(e,t)),(s=a.get(n))===null||s===void 0||s.push([r,i])}function Cn(e,t){return e.on("child.deep",({payload:n})=>{t._m.forEach((r,i)=>{e.at(i)===n&&(r.forEach(([s,a])=>{n.store.apply(s,a)}),t._m.delete(i))}),t._m.size===0&&t._r&&(e.off(t._r),t._r=void 0)})}function ci(e,t){t.buffer=!1,t._b.forEach(([n,r])=>t.apply(n,r)),t._b=[]}function fi(){const e={};let t;return{count:(...n)=>pi(t,e,...n),init(n){t=n,n.on("message-added.deep",Qt(e,1)),n.on("message-removed.deep",Qt(e,-1))},merge:n=>Xt(t,e,n),settled(n){return O(e,n)?e[n].promise:Promise.resolve()},unmerge:n=>Xt(t,e,n,!0),value(n){return O(e,n)?e[n].count:0}}}function pi(e,t,n,r,i=0){if(r=di(r||n),!O(t,n)){const s={condition:r,count:0,name:n,node:e,promise:Promise.resolve(),resolve:()=>{}};t[n]=s,i=e.store.reduce((a,o)=>a+s.condition(o)*1,i),e.each(a=>{a.ledger.count(s.name,s.condition),i+=a.ledger.value(s.name)})}return En(t[n],i).promise}function di(e){return typeof e=="function"?e:t=>t.type===e}function En(e,t){const n=e.count,r=e.count+t;return e.count=r,n===0&&r!==0?(e.node.emit(`unsettled:${e.name}`,e.count,!1),e.promise=new Promise(i=>e.resolve=i)):n!==0&&r===0&&(e.node.emit(`settled:${e.name}`,e.count,!1),e.resolve()),e.node.emit(`count:${e.name}`,e.count,!1),e}function Qt(e,t){return n=>{for(const r in e){const i=e[r];i.condition(n.payload)&&En(i,t)}}}function Xt(e,t,n,r=!1){const i=e;for(const s in t){const a=t[s].condition;r||n.ledger.count(s,a);const o=n.ledger.value(s)*(r?-1:1);if(e){do e.ledger.count(s,a,o),e=e.parent;while(e);e=i}}}const Dt=new Map,Xe=new Map,Vt=On(),mi=[];function hi(e){e.props.id&&(Dt.set(e.props.id,e),Xe.set(e,e.props.id),Vt(e,{payload:e,name:e.props.id,bubble:!1,origin:e}))}function gi(e){if(Xe.has(e)){const t=Xe.get(e);Xe.delete(e),Dt.delete(t),Vt(e,{payload:null,name:t,bubble:!1,origin:e})}}function Nn(e){return Dt.get(e)}function vi(e,t){mi.push(Vt.on(e,t))}function kt(e,t,n){let r=!0;return t in e.config._t?r=!1:e.emit(`config:${t}`,n,!1),t in e.props||(e.emit("prop",{prop:t,value:n}),e.emit(`prop:${t}`,n)),r}function yi(e={}){const t=new Set,n={...e,_add:i=>t.add(i),_rm:i=>t.delete(i)};return new Proxy(n,{set(i,s,a,o){return typeof s=="string"&&t.forEach(f=>kt(f,s,a)),Reflect.set(i,s,a,o)}})}function bi(e,t){const n=(t||document).getElementById(e);if(n instanceof HTMLFormElement){const r=new Event("submit",{cancelable:!0,bubbles:!0});n.dispatchEvent(r);return}We(151,e)}function _i(e){const t=n=>{for(const r in n.store){const i=n.store[r];i.type==="error"||i.type==="ui"&&r==="incomplete"?n.store.remove(r):i.type==="state"&&n.store.set({...i,value:!1})}};t(e),e.walk(t)}function $i(e,t){const n=typeof e=="string"?Nn(e):e;if(n){const r=a=>J(a.props.initial)||(a.type==="group"?{}:a.type==="list"?[]:void 0);n._e.pause(n);const i=J(t);return t&&!Y(t)&&(n.props.initial=Le(i)?Ne(i):i,n.props._init=n.props.initial),n.input(r(n),!1),n.walk(a=>{a.type==="list"&&a.sync||a.input(r(a),!1)}),n.input(Y(i)&&i?i:r(n),!1),n.type!=="input"&&t&&!Y(t)&&Le(t)&&n.walk(a=>{a.props.initial=Le(a.value)?Ne(a.value):a.value,a.props._init=a.props.initial}),n._e.play(n),_i(n),n.emit("reset",n),n}We(152,e)}const wi={delimiter:".",delay:0,locale:"en",rootClasses:e=>({[`formkit-${An(e)}`]:!0})},Rn=Symbol("index"),St=Symbol("removed"),Pt=Symbol("moved"),Mn=Symbol("inserted");function xi(e){return e.type==="list"&&Array.isArray(e._value)}function Ue(e){return e&&typeof e=="object"&&e.__FKNode__===!0}const et=(e,t,n)=>{B(102,[e,n])},ki={_c:F(Wi,et,!1),add:F(ji),addProps:F(Ti),address:F(Bi,et,!1),at:F(Gi),bubble:F(Xr),clearErrors:F(ns),calm:F(Ri),config:F(!1),define:F(Fi),disturb:F(Ni),destroy:F(Mi),extend:F(is),hydrate:F(Ci),index:F(Ki,zi,!1),input:F(jn),each:F(qi),emit:F(Qr),find:F(Zi),on:F(ei),off:F(ti),parent:F(!1,Di),plugins:F(!1),remove:F(Vi),root:F(Qi,et,!1),reset:F(ts),resetConfig:F(Hi),setErrors:F(qn),submit:F(es),t:F(Xi),use:F(qt),name:F(Ui,!1,!1),walk:F(Li)};function Si(){return new Map(Object.entries(ki))}function F(e,t,n=!0){return{get:e?(r,i)=>n?(...s)=>e(r,i,...s):e(r,i):!1,set:t!==void 0?t:et.bind(null)}}function Pi(){const e=new Map;return new Proxy(e,{get(t,n){return e.has(n)||e.set(n,Ft()),e.get(n)}})}let Fn=0,Ai=0;function Oi(e){var t,n;return((t=e.parent)===null||t===void 0?void 0:t.type)==="list"?Rn:e.name||`${((n=e.props)===null||n===void 0?void 0:n.type)||"input"}_${++Fn}`}function Tn(e){return e.type==="group"?Ne(e.value&&typeof e.value=="object"&&!Array.isArray(e.value)?e.value:{}):e.type==="list"?Ne(Array.isArray(e.value)?e.value:[]):e.value}function jn(e,t,n,r=!0){return t._value=Ii(e,e.hook.input.dispatch(n)),e.emit("input",t._value),e.isCreated&&e.type==="input"&&W(t._value,t.value)?(e.emit("commitRaw",t.value),t.settled):(t.isSettled&&e.disturb(),r?(t._tmo&&clearTimeout(t._tmo),t._tmo=setTimeout(it,e.props.delay,e,t)):it(e,t),t.settled)}function Ii(e,t){switch(e.type){case"input":break;case"group":(!t||typeof t!="object")&&B(107,[e,t]);break;case"list":Array.isArray(t)||B(108,[e,t]);break}return t}function it(e,t,n=!0,r=!0){t._value=t.value=e.hook.commit.dispatch(t._value),e.type!=="input"&&r&&e.hydrate(),e.emit("commitRaw",t.value),e.emit("commit",t.value),n&&e.calm()}function Dn(e,{name:t,value:n,from:r}){if(!Object.isFrozen(e._value)){if(xi(e)){const i=n===St?[]:n===Pt&&typeof r=="number"?e._value.splice(r,1):[n];e._value.splice(t,n===Pt||r===Mn?0:1,...i);return}n!==St?e._value[t]=n:delete e._value[t]}}function Ci(e,t){const n=t._value;return e.type==="list"&&e.sync&&Ei(e,t),t.children.forEach(r=>{if(typeof n=="object")if(r.name in n){const i=r.type!=="input"||n[r.name]&&typeof n[r.name]=="object"?Ne(n[r.name]):n[r.name];if(!r.isSettled||!Le(i)&&W(i,r._value))return;r.input(i,!1)}else(e.type!=="list"||typeof r.name=="number")&&Dn(t,{name:r.name,value:r.value}),n.__init||(r.type==="group"?r.input({},!1):r.type==="list"?r.input([],!1):r.input(void 0,!1))}),e}function Ei(e,t){const n=e._value;if(!Array.isArray(n))return;const r=[],i=new Set(t.children),s=new Map;n.forEach((o,f)=>{if(t.children[f]&&t.children[f]._value===o)r.push(t.children[f]),i.delete(t.children[f]);else{r.push(null);const _=s.get(o)||[];_.push(f),s.set(o,_)}}),i.size&&s.size&&i.forEach(o=>{if(s.has(o._value)){const f=s.get(o._value),_=f.shift();r[_]=o,i.delete(o),f.length||s.delete(o._value)}});const a=[];for(s.forEach(o=>{a.push(...o)});i.size&&a.length;){const o=i.values().next().value,f=a.shift();if(f===void 0)break;r[f]=o,i.delete(o)}a.forEach((o,f)=>{r[o]=ls({value:f})}),i.size&&i.forEach(o=>{if(!("__FKP"in o)){const f=o._c.parent;if(!f||us(f))return;f.ledger.unmerge(o),o._c.parent=null,o.destroy()}}),t.children=r}function Ni(e,t){var n;return t._d<=0&&(t.isSettled=!1,e.emit("settled",!1,!1),t.settled=new Promise(r=>{t._resolve=r}),e.parent&&((n=e.parent)===null||n===void 0||n.disturb())),t._d++,e}function Ri(e,t,n){var r;if(n!==void 0&&e.type!=="input")return Dn(t,n),it(e,t,!0,!1);t._d>0&&t._d--,t._d===0&&(t.isSettled=!0,e.emit("settled",!0,!1),e.parent&&((r=e.parent)===null||r===void 0||r.calm({name:e.name,value:t.value})),t._resolve&&t._resolve(t.value))}function Mi(e,t){e.emit("destroying",e),e.store.filter(()=>!1),e.parent&&(e.parent.emit("childRemoved",e),e.parent.remove(e)),gi(e),e.emit("destroyed",e),t._e.flush(),t._value=t.value=void 0;for(const n in t.context)delete t.context[n];t.plugins.clear(),t.context=null}function Fi(e,t,n){t.type=n.type,t.props.definition=Ee(n),t.value=t._value=Tn({type:e.type,value:t.value}),n.forceTypeProp&&(e.props.type&&(e.props.originalType=e.props.type),t.props.type=n.forceTypeProp),n.family&&(t.props.family=n.family),n.features&&n.features.forEach(r=>r(e)),n.props&&e.addProps(n.props),e.emit("defined",n)}function Ti(e,t,n){var r;if(e.props.attrs){const i={...e.props.attrs};e.props._emit=!1;for(const a in i){const o=Se(a);n.includes(o)&&(e.props[o]=i[a],delete i[a])}const s=J(t._value);e.props.initial=e.type!=="input"?Ne(s):s,e.props._emit=!0,e.props.attrs=i,e.props.definition&&(e.props.definition.props=[...((r=e.props.definition)===null||r===void 0?void 0:r.props)||[],...n])}return e.emit("added-props",n),e}function ji(e,t,n,r){if(e.type==="input"&&B(100,e),n.parent&&n.parent!==e&&n.parent.remove(n),!t.children.includes(n)){if(r!==void 0&&e.type==="list"){const i=t.children[r];i&&"__FKP"in i?(n._c.uid=i.uid,t.children.splice(r,1,n)):t.children.splice(r,0,n),Array.isArray(e.value)&&e.value.length<t.children.length&&e.disturb().calm({name:r,value:n.value,from:Mn})}else t.children.push(n);n.isSettled||e.disturb()}if(n.parent!==e){if(n.parent=e,n.parent!==e)return e.remove(n),n.parent.add(n),e}else n.use(e.plugins);return it(e,t,!1),e.ledger.merge(n),e.emit("child",n),e}function Di(e,t,n,r){return Ue(r)?(e.parent&&e.parent!==r&&e.parent.remove(e),t.parent=r,e.resetConfig(),r.children.includes(e)?e.use(r.plugins):r.add(e),!0):r===null?(t.parent=null,!0):!1}function Vi(e,t,n){const r=t.children.indexOf(n);if(r!==-1){n.isSettled&&e.disturb(),t.children.splice(r,1);let i=Q(n.props.preserve),s=n.parent;for(;i===void 0&&s;)i=Q(s.props.preserve),s=s.parent;i?e.calm():e.calm({name:e.type==="list"?r:n.name,value:St}),n.parent=null,n.config._rmn=n}return e.ledger.unmerge(n),e}function qi(e,t,n){t.children.forEach(r=>!("__FKP"in r)&&n(r))}function Li(e,t,n,r=!1,i=!1){t.children.some(s=>{if("__FKP"in s)return!1;const a=n(s);return r&&a===!1?!0:i&&a===!1?!1:s.walk(n,r,i)})}function Hi(e,t){const n=e.parent||void 0;t.config=Vn(e.config._t,n),e.walk(r=>r.resetConfig())}function qt(e,t,n,r=!0,i=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(s=>qt(e,t,s)),e):(t.plugins.has(n)||(i&&typeof n.library=="function"&&n.library(e),r&&n(e)!==!1&&(t.plugins.add(n),e.children.forEach(s=>s.use(n)))),e)}function zi(e,t,n,r){if(Ue(e.parent)){const i=e.parent.children,s=r>=i.length?i.length-1:r<0?0:r,a=i.indexOf(e);return a===-1?!1:(i.splice(a,1),i.splice(s,0,e),e.parent.children=i,e.parent.type==="list"&&e.parent.disturb().calm({name:s,value:Pt,from:a}),!0)}return!1}function Ki(e){if(e.parent){const t=[...e.parent.children].indexOf(e);return t===-1?e.parent.children.length:t}return-1}function Wi(e,t){return t}function Ui(e,t){var n;return((n=e.parent)===null||n===void 0?void 0:n.type)==="list"?e.index:t.name!==Rn?t.name:e.index}function Bi(e,t){return t.parent?t.parent.address.concat([e.name]):[e.name]}function Gi(e,t,n){const r=typeof n=="string"?n.split(e.config.delimiter):n;if(!r.length)return;const i=r[0];let s=e.parent;for(s||(String(r[0])===String(e.name)&&r.shift(),s=e),i==="$parent"&&r.shift();s&&r.length;){const a=r.shift();switch(a){case"$root":s=e.root;break;case"$parent":s=s.parent;break;case"$self":s=e;break;default:s=s.children.find(o=>!("__FKP"in o)&&String(o.name)===String(a))||Yi(s,a)}}return s||void 0}function Yi(e,t){const n=String(t).match(/^(find)\((.*)\)$/);if(n){const[,r,i]=n,s=i.split(",").map(a=>a.trim());switch(r){case"find":return e.find(s[0],s[1]);default:return}}}function Zi(e,t,n,r){return Ji(e,n,r)}function Ji(e,t,n="name"){const r=typeof n=="string"?s=>s[n]==t:n,i=[e];for(;i.length;){const s=i.shift();if(!("__FKP"in s)){if(r(s,t))return s;i.push(...s.children)}}}function Qi(e){let t=e;for(;t.parent;)t=t.parent;return t}function Vn(e={},t){let n;return new Proxy(e,{get(...r){const i=r[1];if(i==="_t")return e;const s=Reflect.get(...r);if(s!==void 0)return s;if(t){const a=t.config[i];if(a!==void 0)return a}if(e.rootConfig&&typeof i=="string"){const a=e.rootConfig[i];if(a!==void 0)return a}return i==="delay"&&(n==null?void 0:n.type)==="input"?20:wi[i]},set(...r){const i=r[1],s=r[2];if(i==="_n")return n=s,e.rootConfig&&e.rootConfig._add(n),!0;if(i==="_rmn")return e.rootConfig&&e.rootConfig._rm(n),n=void 0,!0;if(!W(e[i],s,!1)){const a=Reflect.set(...r);return n&&(n.emit(`config:${i}`,s,!1),kt(n,i,s),n.walk(o=>kt(o,i,s),!1,!0)),a}return!0}})}function Xi(e,t,n,r="ui"){const i=typeof n=="string"?{key:n,value:n,type:r}:n,s=e.hook.text.dispatch(i);return e.emit("text",s,!1),s.value}function es(e){const t=e.name;do{if(e.props.isForm===!0)break;e.parent||B(106,t),e=e.parent}while(e);e.props.id&&bi(e.props.id,e.props.__root)}function ts(e,t,n){return $i(e,n)}function qn(e,t,n,r){const i=`${e.name}-set`,s=e.hook.setErrors.dispatch({localErrors:n,childErrors:r});return li(e,s.localErrors,s.childErrors).forEach(a=>{e.store.apply(a,o=>o.meta.source===i)}),e}function ns(e,t,n=!0,r){return qn(e,t,[]),n&&(r=r||`${e.name}-set`,e.walk(i=>{i.store.filter(s=>!(s.type==="error"&&s.meta&&s.meta.source===r))})),e}function rs(e){const t={initial:typeof e=="object"?J(e):e};let n,r=!0;return new Proxy(t,{get(...i){const[s,a]=i;if(O(t,a))return Reflect.get(...i);if(n&&typeof a=="string"&&n.config[a]!==void 0)return n.config[a]},set(i,s,a,o){if(s==="_n")return n=a,!0;if(s==="_emit")return r=a,!0;const{prop:f,value:_}=n.hook.prop.dispatch({prop:s,value:a});if(!W(t[f],_,!1)||typeof _=="object"){const g=Reflect.set(i,f,_,o);return r&&(n.emit("prop",{prop:f,value:_}),typeof f=="string"&&n.emit(`prop:${f}`,_)),g}return!0}})}function is(e,t,n,r){return t.traps.set(n,r),e}function ss(e,t){if(e.props.definition)return e.define(e.props.definition);for(const n of t){if(e.props.definition)return;typeof n.library=="function"&&n.library(e)}}function as(e){const t=Tn(e),n=Vn(e.config||{},e.parent);return{_d:0,_e:On(),uid:Symbol(),_resolve:!1,_tmo:!1,_value:t,children:Hr(e.children||[]),config:n,hook:Pi(),isCreated:!1,isSettled:!0,ledger:fi(),name:Oi(e),parent:e.parent||null,plugins:new Set,props:rs(t),settled:Promise.resolve(t),store:ni(!0),sync:e.sync||!1,traps:Si(),type:e.type||"input",value:t}}function os(e,t){var n,r,i;const s=(n=t.props)===null||n===void 0?void 0:n.id;if(s||(r=t.props)===null||r===void 0||delete r.id,e.ledger.init(e.store._n=e.props._n=e.config._n=e),e.props._emit=!1,Object.assign(e.props,s?{}:{id:`input_${Ai++}`},(i=t.props)!==null&&i!==void 0?i:{}),e.props._emit=!0,ss(e,new Set([...t.plugins||[],...e.parent?e.parent.plugins:[]])),t.plugins)for(const a of t.plugins)qt(e,e._c,a,!0,!1);return e.each(a=>e.add(a)),e.parent&&e.parent.add(e,t.index),e.type==="input"&&e.children.length&&B(100,e),jn(e,e._c,e._value,!1),e.store.release(),s&&hi(e),e.emit("created",e),e.isCreated=!0,e}function ls(e){var t,n,r,i;return{__FKP:!0,uid:Symbol(),name:(t=e==null?void 0:e.name)!==null&&t!==void 0?t:`p_${Fn++}`,value:(n=e==null?void 0:e.value)!==null&&n!==void 0?n:null,_value:(r=e==null?void 0:e.value)!==null&&r!==void 0?r:null,type:(i=e==null?void 0:e.type)!==null&&i!==void 0?i:"input",use:()=>{},input(s){return this._value=s,this.value=s,Promise.resolve()},isSettled:!0}}function us(e){return"__FKP"in e}function cs(e){const t=e||{},n=as(t),r=new Proxy(n,{get(...i){const[,s]=i;if(s==="__FKNode__")return!0;const a=n.traps.get(s);return a&&a.get?a.get(r,n):Reflect.get(...i)},set(...i){const[,s,a]=i,o=n.traps.get(s);return o&&o.set?o.set(r,n,s,a):Reflect.set(...i)}});return os(r,t)}function At(e){return typeof e!="string"&&O(e,"$el")}function Ot(e){return typeof e!="string"&&O(e,"$cmp")}function we(e){return!e||typeof e=="string"?!1:O(e,"if")&&O(e,"then")}function fs(e){return typeof e!="string"&&"$formkit"in e}function ps(e){if(typeof e=="string")return{$el:"text",children:e};if(fs(e)){const{$formkit:t,for:n,if:r,children:i,bind:s,...a}=e;return Object.assign({$cmp:"FormKit",props:{...a,type:t}},r?{if:r}:{},n?{for:n}:{},i?{children:i}:{},s?{bind:s}:{})}return e}function Z(e){let t;const n=new Set,r=function(p,d){return typeof p=="function"?p(d):p},i=[{"&&":(l,p,d)=>r(l,d)&&r(p,d),"||":(l,p,d)=>r(l,d)||r(p,d)},{"===":(l,p,d)=>r(l,d)===r(p,d),"!==":(l,p,d)=>r(l,d)!==r(p,d),"==":(l,p,d)=>r(l,d)==r(p,d),"!=":(l,p,d)=>r(l,d)!=r(p,d),">=":(l,p,d)=>r(l,d)>=r(p,d),"<=":(l,p,d)=>r(l,d)<=r(p,d),">":(l,p,d)=>r(l,d)>r(p,d),"<":(l,p,d)=>r(l,d)<r(p,d)},{"+":(l,p,d)=>r(l,d)+r(p,d),"-":(l,p,d)=>r(l,d)-r(p,d)},{"*":(l,p,d)=>r(l,d)*r(p,d),"/":(l,p,d)=>r(l,d)/r(p,d),"%":(l,p,d)=>r(l,d)%r(p,d)}],s=i.reduce((l,p)=>l.concat(Object.keys(p)),[]),a=new Set(s.map(l=>l.charAt(0)));function o(l,p,d,y){const k=l.filter(h=>h.startsWith(p));return k.length?k.find(h=>y.length>=d+h.length&&y.substring(d,d+h.length)===h?h:!1):!1}function f(l,p,d=1){let y=d?p.substring(l+1).trim():p.substring(0,l).trim();if(!y.length)return-1;if(!d){const h=y.split("").reverse(),$=h.findIndex(u=>a.has(u));y=h.slice($).join("")}const k=y[0];return i.findIndex(h=>{const $=Object.keys(h);return!!o($,k,0,y)})}function _(l,p){let d="";const y=p.length;let k=0;for(let h=l;h<y;h++){const $=p.charAt(h);if($==="(")k++;else if($===")")k--;else if(k===0&&$===" ")continue;if(k===0&&o(s,$,h,p))return[d,h-1];d+=$}return[d,p.length-1]}function g(l,p=0){const d=i[p],y=l.length,k=Object.keys(d);let h=0,$=!1,u=null,m="",I=null,R,c="",v="",A="",E="",V=0;const j=(T,H)=>{T?A+=H:m+=H};for(let T=0;T<y;T++)if(c=v,v=l.charAt(T),(v==="'"||v==='"')&&c!=="\\"&&(h===0&&!$||h&&!E)){h?E=v:$=v,j(h,v);continue}else if($&&(v!==$||c==="\\")||E&&(v!==E||c==="\\")){j(h,v);continue}else if($===v){$=!1,j(h,v);continue}else if(E===v){E=!1,j(h,v);continue}else{if(v===" ")continue;if(v==="(")h===0?V=T:A+=v,h++;else if(v===")")if(h--,h===0){const H=typeof m=="string"&&m.startsWith("$")?m:void 0,me=H&&l.charAt(T+1)===".";let te="";me&&([te,T]=_(T+2,l));const Ye=u?p:f(V,l,0),Fe=f(T,l);Ye===-1&&Fe===-1?(m=S(A,-1,H,te),typeof m=="string"&&(m=A)):u&&(Ye>=Fe||Fe===-1)&&p===Ye?(I=u.bind(null,S(A,-1,H,te)),u=null,m=""):Fe>Ye&&p===Fe?m=S(A,-1,H,te):m+=`(${A})${me?`.${te}`:""}`,A=""}else A+=v;else if(h===0&&(R=o(k,v,T,l))){T===0&&B(103,[R,l]),T+=R.length-1,T===l.length-1&&B(104,[R,l]),u?m&&(I=u.bind(null,S(m,p)),u=d[R].bind(null,I),m=""):I?(u=d[R].bind(null,S(I,p)),I=null):(u=d[R].bind(null,S(m,p)),m="");continue}else j(h,v)}return m&&u&&(u=u.bind(null,S(m,p))),u=!u&&I?I:u,!u&&m&&(u=(T,H)=>typeof T=="function"?T(H):T,u=u.bind(null,S(m,p))),!u&&!m&&B(105,l),u}function S(l,p,d,y){if(d){const k=S(d,i.length);let h,$=y?Z(`$${y}`):!1;if(typeof k=="function"){const u=Gr(String(l)).map(m=>S(m,-1));return m=>{const I=k(m);return typeof I!="function"?(We(150,d),I):(h=I(...u.map(R=>typeof R=="function"?R(m):R)),$&&($=$.provide(R=>{const c=t(R);return R.reduce((A,E)=>{if(E===y||(y==null?void 0:y.startsWith(`${E}(`))){const j=Yr(h,E);A[E]=()=>j}else A[E]=c[E];return A},{})})),$?$():h)}}}else if(typeof l=="string"){if(l==="true")return!0;if(l==="false")return!1;if(l==="undefined")return;if(Ur(l))return Br(l.substring(1,l.length-1));if(!isNaN(+l))return Number(l);if(p<i.length-1)return g(l,p+1);if(l.startsWith("$")){const k=l.substring(1);return n.add(k),function($){return k in $?$[k]():void 0}}return l}return l}const C=g(e.startsWith("$:")?e.substring(2):e),w=Array.from(n);function x(l){return t=l,Object.assign(C.bind(null,l(w)),{provide:x})}return Object.assign(C,{provide:x})}function tt(e,t,n){return n?typeof n=="string"?n.split(" ").reduce((i,s)=>Object.assign(i,{[s]:!0}),{}):typeof n=="function"?tt(e,t,n(t,e)):n:{}}function ds(e,t,...n){const r=n.reduce((i,s)=>{if(!s)return gt(i);const{$reset:a,...o}=s;return gt(a?o:Object.assign(i,o))},{});return Object.keys(e.hook.classes.dispatch({property:t,classes:r}).classes).filter(i=>r[i]).join(" ")||null}function gt(e){const t="$remove:";let n=!1;const r=Object.keys(e).filter(i=>(e[i]&&i.startsWith(t)&&(n=!0),e[i]));return r.length>1&&n&&r.filter(s=>s.startsWith(t)).map(s=>{const a=s.substring(t.length);e[a]=!1,e[s]=!1}),e}const st="1.4.0";function ms(...e){const t=e.reduce((r,i)=>ve(r,i),{}),n=()=>{};return n.library=function(r){const i=Se(r.props.type);O(t,i)&&r.define(t[i])},n}const hs=["classes","config","delay","errors","id","index","inputErrors","modelValue","onUpdate:modelValue","name","number","parent","plugins","sectionsSchema","type","validation","validationLabel","validationMessages","validationRules","onInput","onInputRaw","onUpdate:modelValue","onNode","onSubmit","onSubmitInvalid","onSubmitRaw"];function dt(e){return e&&typeof e=="object"&&"group"in e&&Array.isArray(e.options)}function Ln(e,t={count:1}){return Array.isArray(e)?e.map(n=>{if(typeof n=="string"||typeof n=="number")return{label:String(n),value:String(n)};if(typeof n=="object"){if("group"in n)return n.options=Ln(n.options||[],t),n;"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${t.count++}`,__original:n.value})}return n}):Object.keys(e).map(n=>({label:e[n],value:n}))}function ye(e,t,n=!1){if(Array.isArray(e)){for(const r of e)if(!(typeof r!="object"&&r)){if(dt(r)){const i=ye(r.options,t,!0);if(i!==void 0)return i}else if(t==r.value)return"__original"in r?r.__original:r.value}}return n?void 0:t}function Re(e,t){return e===null&&t===void 0||e===void 0&&t===null?!1:e==t?!0:Ce(e)&&Ce(t)?W(e,t):!1}function Lt(e){e.hook.prop((t,n)=>(t.prop==="options"&&(typeof t.value=="function"?(e.props.optionsLoader=t.value,t.value=[]):t.value=Ln(t.value)),n(t)))}function N(e,t,n=!1){return(...r)=>{const i=s=>{const a=!t||typeof t=="string"?{$el:t}:t();return(At(a)||Ot(a))&&(a.meta||(a.meta={section:e}),r.length&&!a.children&&(a.children=[...r.map(o=>typeof o=="function"?o(s):o)]),At(a)&&(a.attrs={class:`$classes.${e}`,...a.attrs||{}})),{if:`$slots.${e}`,then:`$slots.${e}`,else:e in s?De(a,s[e]):a}};return i._s=e,n?gs(i):i}}function gs(e){return t=>[e(t)]}function at(e){return typeof e=="object"&&("$el"in e||"$cmp"in e||"$formkit"in e)}function De(e,t={}){return typeof e=="string"?at(t)||typeof t=="string"?t:e:Array.isArray(e)?at(t)?t:e:ve(e,t)}const vs=N("actions",()=>({$el:"div",if:"$actions"})),ot=N("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),Hn=N("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),lt=N("inner","span"),ut=N("label","span"),zn=N("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled"}})),Kn=N("options","ul"),ct=N("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),ys=N("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),bs=N("default",null),ft=N("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),Wn=N("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),_s=N("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),$s=N("fileItem",()=>({$el:"li",for:["file","$value"]})),ws=N("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":"$_hasMultipleFiles"}})),xs=N("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),en=N("fileRemove",()=>({$el:"button",attrs:{type:"button",onClick:"$handlers.resetFiles"}})),ks=N("form",()=>({$el:"form",bind:"$attrs",attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}})),Ht=N("wrapper",null,!0),le=N("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),q=(e,t)=>N(`${e}Icon`,()=>{const n=`_raw${e.charAt(0).toUpperCase()}${e.slice(1)}Icon`;return{if:`$${e}Icon && $${n}`,$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " " + $classes.icon`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${e})`,for:{if:`${t==="label"}`,then:"$id"}}}})(),mt=N("inner","div"),ht=N("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),Un=N("legend",()=>({$el:"legend",if:"$label"})),pe=N("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),de=N("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),Ss=N("noFiles",()=>({$el:"span",if:"$value.length == 0"})),Ps=N("optGroup",()=>({$el:"optgroup",bind:"$option.attrs",attrs:{label:"$option.group"}})),tn=N("option",()=>({$el:"option",bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),nn=N("options",()=>({$el:null,if:"$options.length",for:["option","$option.options || $options"]})),be=N("outer",()=>({$el:"div",attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-has-multiple":"$_hasMultipleFiles","data-disabled":'$: ($disabled !== "false" && $disabled) || undefined',"data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}})),ue=N("prefix",null),As=N("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Os=N("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",disabled:"$disabled",label:"$submitLabel"}})),ce=N("suffix",null),Bn=N("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Is=N("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"},children:"$initialValue"})),Be=N("wrapper","div");function Gn(e){return function(t,n){return t.prop==="options"&&Array.isArray(t.value)&&(t.value=t.value.map(r=>{var i;return!((i=r.attrs)===null||i===void 0)&&i.id?r:ve(r,{attrs:{id:`${e.props.id}-option-${Mt(String(r.value))}`}})}),e.props.type==="checkbox"&&!Array.isArray(e.value)&&(e.isCreated?e.input([],!1):e.on("created",()=>{Array.isArray(e.value)||e.input([],!1)}))),n(t)}}function Cs(e,t){const n=t.target;if(n instanceof HTMLInputElement){const r=Array.isArray(e.props.options)?ye(e.props.options,n.value):n.value;Array.isArray(e.props.options)&&e.props.options.length?Array.isArray(e._value)?e._value.some(i=>Re(r,i))?e.input(e._value.filter(i=>!Re(r,i))):e.input([...e._value,r]):e.input([r]):n.checked?e.input(e.props.onValue):e.input(e.props.offValue)}}function Es(e,t){var n,r;return(n=e.context)===null||n===void 0||n.value,(r=e.context)===null||r===void 0||r._value,Array.isArray(e._value)?e._value.some(i=>Re(ye(e.props.options,t),i)):!1}function Ns(e){e.on("created",()=>{var t,n;!((t=e.context)===null||t===void 0)&&t.handlers&&(e.context.handlers.toggleChecked=Cs.bind(null,e)),!((n=e.context)===null||n===void 0)&&n.fns&&(e.context.fns.isChecked=Es.bind(null,e)),O(e.props,"onValue")||(e.props.onValue=!0),O(e.props,"offValue")||(e.props.offValue=!1)}),e.hook.prop(Gn(e))}function Pe(e,t){return n=>{n.props[`${e}Icon`]===void 0&&(n.props[`${e}Icon`]=t.startsWith("<svg")?t:`default:${t}`)}}function zt(e){e.on("created",()=>{"disabled"in e.props&&(e.props.disabled=Q(e.props.disabled),e.config.disabled=Q(e.props.disabled))}),e.hook.prop(({prop:t,value:n},r)=>(n=t==="disabled"?Q(n):n,r({prop:t,value:n}))),e.on("prop:disabled",({payload:t})=>{e.config.disabled=Q(t)})}function nt(e,t){return n=>{n.store.set(ee({key:e,type:"ui",value:t||e,meta:{localize:!0,i18nArgs:[n]}}))}}const vt=typeof window<"u";function Yn(e){e.target instanceof HTMLElement&&e.target.hasAttribute("data-file-hover")&&e.target.removeAttribute("data-file-hover")}function rn(e,t){t.target instanceof HTMLInputElement?e==="dragover"&&t.target.setAttribute("data-file-hover","true"):t.preventDefault(),e==="drop"&&Yn(t)}function Rs(e){nt("noFiles","Select file")(e),nt("removeAll","Remove all")(e),nt("remove")(e),e.addProps(["_hasMultipleFiles"]),vt&&(window._FormKit_File_Drop||(window.addEventListener("dragover",rn.bind(null,"dragover")),window.addEventListener("drop",rn.bind(null,"drop")),window.addEventListener("dragleave",Yn),window._FormKit_File_Drop=!0)),e.hook.input((t,n)=>n(Array.isArray(t)?t:[])),e.on("input",({payload:t})=>{e.props._hasMultipleFiles=Array.isArray(t)&&t.length>1?!0:void 0}),e.on("reset",()=>{if(e.props.id&&vt){const t=document.getElementById(e.props.id);t&&(t.value="")}}),e.on("created",()=>{Array.isArray(e.value)||e.input([],!1),e.context&&(e.context.handlers.resetFiles=t=>{if(t.preventDefault(),e.input([]),e.props.id&&vt){const n=document.getElementById(e.props.id);n&&(n.value=""),n==null||n.focus()}},e.context.handlers.files=t=>{var n,r;const i=[];if(t.target instanceof HTMLInputElement&&t.target.files){for(let s=0;s<t.target.files.length;s++){let a;(a=t.target.files.item(s))&&i.push({name:a.name,file:a})}e.input(i)}e.context&&(e.context.files=i),typeof((n=e.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&((r=e.props.attrs)===null||r===void 0||r.onChange(t))})})}const sn=ee({key:"loading",value:!0,visible:!1});async function Ms(e,t){const n=Math.random();if(e.props._submitNonce=n,t.preventDefault(),await e.settled,e.ledger.value("validating")&&(e.store.set(sn),await e.ledger.settled("validating"),e.store.remove("loading"),e.props._submitNonce!==n))return;const r=i=>i.store.set(ee({key:"submitted",value:!0,visible:!1}));if(e.walk(r),r(e),e.emit("submit-raw"),typeof e.props.onSubmitRaw=="function"&&e.props.onSubmitRaw(t,e),e.ledger.value("blocking"))typeof e.props.onSubmitInvalid=="function"&&e.props.onSubmitInvalid(e),e.props.incompleteMessage!==!1&&Zn(e);else if(typeof e.props.onSubmit=="function"){const i=e.props.onSubmit(e.hook.submit.dispatch(Ee(e.value)),e);if(i instanceof Promise){const s=e.props.disabled===void 0&&e.props.submitBehavior!=="live";s&&(e.props.disabled=!0),e.store.set(sn),await i,s&&(e.props.disabled=!1),e.store.remove("loading")}}else t.target instanceof HTMLFormElement&&t.target.submit()}function Zn(e){e.store.set(ee({blocking:!1,key:"incomplete",meta:{localize:e.props.incompleteMessage===void 0,i18nArgs:[{node:e}],showAsMessage:!0},type:"ui",value:e.props.incompleteMessage||"Form incomplete."}))}function Fs(e){e.props.isForm=!0,e.ledger.count("validating",t=>t.key==="validating"),e.on("created",()=>{var t;!((t=e.context)===null||t===void 0)&&t.handlers&&(e.context.handlers.submit=Ms.bind(null,e)),O(e.props,"actions")||(e.props.actions=!0)}),e.on("prop:incompleteMessage",()=>{e.store.incomplete&&Zn(e)}),e.on("settled:blocking",()=>e.store.remove("incomplete"))}function Ts(e){e.props.ignore===void 0&&(e.props.ignore=!0,e.parent=null)}function js(e){e.on("created",()=>{e.context&&(e.context.initialValue=e.value||"")})}function Jn(e){if(typeof e.props.number>"u")return;const t=["number","range","hidden"].includes(e.props.type);e.hook.input((n,r)=>{if(n==="")return r(void 0);const i=e.props.number==="integer"?parseInt(n):parseFloat(n);return Number.isFinite(i)?r(i):r(t?void 0:n)})}function Ds(e,t){t.target instanceof HTMLInputElement&&e.input(ye(e.props.options,t.target.value))}function Vs(e,t){var n,r;return(n=e.context)===null||n===void 0||n.value,(r=e.context)===null||r===void 0||r._value,Re(ye(e.props.options,t),e._value)}function qs(e){e.on("created",()=>{var t,n;Array.isArray(e.props.options)||We(350,{node:e,inputType:"radio"}),!((t=e.context)===null||t===void 0)&&t.handlers&&(e.context.handlers.toggleChecked=Ds.bind(null,e)),!((n=e.context)===null||n===void 0)&&n.fns&&(e.context.fns.isChecked=Vs.bind(null,e))}),e.hook.prop(Gn(e))}let Ls=0;function Qn(e){(e.type==="group"||e.type==="list")&&e.plugins.add(Hs)}function Hs(e){e.props.type==="radio"&&(e.addProps(["altName"]),e.props.altName=`${e.name}_${Ls++}`)}function zs(e,t){if(dt(t))return!1;e.context&&e.context.value;const n="__original"in t?t.__original:t.value;return Array.isArray(e._value)?e._value.some(r=>Re(r,n)):(e._value===void 0||e._value===null&&!Xn(e.props.options,null))&&t.attrs&&t.attrs["data-is-placeholder"]?!0:Re(n,e._value)}function Xn(e,t){return e.some(n=>dt(n)?Xn(n.options,t):("__original"in n?n.__original:n.value)===t)}async function Ks(e,t){var n;typeof((n=e.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&(await new Promise(r=>setTimeout(r,0)),await e.settled,e.props.attrs.onChange(t))}function Ws(e,t){const n=t.target,r=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(i=>ye(e.props.options,i.value)):ye(e.props.options,n.value);e.input(r)}function an(e,t){return e.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?e:[{label:t,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...e]}function er(e){const t=e.length>0?e[0]:void 0;if(t)return dt(t)?er(t.options):"__original"in t?t.__original:t.value}function Us(e){e.on("created",()=>{var t,n,r;const i=Q((t=e.props.attrs)===null||t===void 0?void 0:t.multiple);!i&&e.props.placeholder&&Array.isArray(e.props.options)&&(e.hook.prop(({prop:s,value:a},o)=>(s==="options"&&(a=an(a,e.props.placeholder)),o({prop:s,value:a}))),e.props.options=an(e.props.options,e.props.placeholder)),i?e.value===void 0&&e.input([],!1):e.context&&!e.context.options&&(e.props.attrs=Object.assign({},e.props.attrs,{value:e._value}),e.on("input",({payload:s})=>{e.props.attrs=Object.assign({},e.props.attrs,{value:s})})),!((n=e.context)===null||n===void 0)&&n.handlers&&(e.context.handlers.selectInput=Ws.bind(null,e),e.context.handlers.onChange=Ks.bind(null,e)),!((r=e.context)===null||r===void 0)&&r.fns&&(e.context.fns.isSelected=zs.bind(null,e),e.context.fns.showPlaceholder=(s,a)=>{if(!Array.isArray(e.props.options))return!1;const o=e.props.options.some(f=>{if(f.attrs&&"data-is-placeholder"in f.attrs)return!1;const _="__original"in f?f.__original:f.value;return W(s,_)});return a&&!o?!0:void 0})}),e.hook.input((t,n)=>{var r,i,s;return!e.props.placeholder&&t===void 0&&Array.isArray((r=e.props)===null||r===void 0?void 0:r.options)&&e.props.options.length&&!Q((s=(i=e.props)===null||i===void 0?void 0:i.attrs)===null||s===void 0?void 0:s.multiple)&&(t=er(e.props.options)),n(t)})}function It(e){return!!(we(e)&&e.if&&e.if.startsWith("$slots.")&&typeof e.then=="string"&&e.then.startsWith("$slots.")&&"else"in e)}function ae(e,t,n){const r=i=>{const s=t(i);if(n||at(s)&&"if"in s||It(s)){const a={if:e,then:s};return n&&(a.else=n(i)),a}else It(s)?Object.assign(s.else,{if:e}):at(s)&&Object.assign(s,{if:e});return s};return r._s=Me(),r}function Ae(e,t){const n=r=>{const i=e({});return It(i)?(Array.isArray(i.else)||(i.else=De(De(i.else,t),e._s?r[e._s]:{})),i):De(De(i,t),e._s?r[e._s]:{})};return n._s=e._s,n}const on={schema:be(de(pe("$message.value")),Be(ys(q("prefix"),ue(),bs("$label || $ui.submit.value"),ce(),q("suffix"))),le("$help")),type:"input",family:"button",props:[],features:[nt("submit"),Ts],schemaMemoKey:"h6st4epl3j8"},Bs={schema:be(ae("$options == undefined",ct(lt(ue(),ot(),ft(q("decorator")),ce()),Ae(ut("$label"),{if:"$label"})),Wn(Un("$label"),le("$help"),Kn(zn(ct(lt(ue(),Ae(ot(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),ft(q("decorator")),ce()),Ae(ut("$option.label"),{if:"$option.label"})),Hn("$option.help"))))),ae("$options == undefined && $help",le("$help")),de(pe("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Lt,Ns,Pe("decorator","checkboxDecorator")],schemaMemoKey:"qje02tb3gu8"},Gs={schema:be(Be(ht("$label"),mt(q("prefix","label"),ue(),_s(),ws($s(q("fileItem"),xs("$file.name"),ae("$value.length === 1",en(q("fileRemove"),'$ui.remove.value + " " + $file.name')))),ae("$value.length > 1",en("$ui.removeAll.value")),Ss(q("noFiles"),"$ui.noFiles.value"),ce(),q("suffix"))),le("$help"),de(pe("$message.value"))),type:"input",family:"text",props:[],features:[Rs,Pe("fileItem","fileItem"),Pe("fileRemove","fileRemove"),Pe("noFiles","noFiles")],schemaMemoKey:"9kqc4852fv8"},Ys={schema:ks("$slots.default",de(pe("$message.value")),vs(Os())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[Fs,zt],schemaMemoKey:"5bg016redjo"},Zs={schema:Ht("$slots.default"),type:"group",props:[],features:[zt,Qn]},Js={schema:Bn(),type:"input",props:[],features:[Jn]},Qs={schema:Ht("$slots.default"),type:"list",props:["sync","dynamic"],features:[zt,Qn]},Xs={schema:Ht(),type:"input",props:[],features:[]},ea={schema:be(ae("$options == undefined",ct(lt(ue(),ot(),ft(q("decorator")),ce()),Ae(ut("$label"),{if:"$label"})),Wn(Un("$label"),le("$help"),Kn(zn(ct(lt(ue(),Ae(ot(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),ft(q("decorator")),ce()),Ae(ut("$option.label"),{if:"$option.label"})),Hn("$option.help"))))),ae("$options == undefined && $help",le("$help")),de(pe("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Lt,qs,Pe("decorator","radioDecorator")],schemaMemoKey:"qje02tb3gu8"},ta={schema:be(Be(ht("$label"),mt(q("prefix"),ue(),As(ae("$slots.default",()=>"$slots.default",nn(ae("$option.group",Ps(nn(tn("$option.label"))),tn("$option.label"))))),ae("$attrs.multiple !== undefined",()=>"",q("select")),ce(),q("suffix"))),le("$help"),de(pe("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[Lt,Us,Pe("select","select")],schemaMemoKey:"cb119h43krg"},na={schema:be(Be(ht("$label"),mt(q("prefix","label"),ue(),Is(),ce(),q("suffix"))),le("$help"),de(pe("$message.value"))),type:"input",props:[],features:[js],schemaMemoKey:"b1n0td79m9g"},U={schema:be(Be(ht("$label"),mt(q("prefix","label"),ue(),Bn(),ce(),q("suffix"))),le("$help"),de(pe("$message.value"))),type:"input",family:"text",props:[],features:[Jn],schemaMemoKey:"c3cc4kflsg"};var ra=Object.freeze({__proto__:null,button:on,checkbox:Bs,color:U,date:U,datetimeLocal:U,email:U,file:Gs,form:Ys,group:Zs,hidden:Js,list:Qs,meta:Xs,month:U,number:U,password:U,radio:ea,range:U,search:U,select:ta,submit:on,tel:U,text:U,textarea:na,time:U,url:U,week:U});const tr=function({value:t}){return["yes","on","1",1,!0,"true"].includes(t)};tr.skipEmpty=!1;const ia=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r>n},sa=function({value:e},t="default"){const n={default:new RegExp("^\\p{L}+$","u"),latin:/^[a-z]+$/i},r=O(n,t)?t:"default";return n[r].test(String(e))},aa=function({value:e},t="default"){const n={default:/^[\p{L} ]+$/u,latin:/^[a-z ]+$/i},r=O(n,t)?t:"default";return n[r].test(String(e))},oa=function({value:e},t="default"){const n={default:/^[0-9\p{L}]+$/u,latin:/^[0-9a-z]+$/i},r=O(n,t)?t:"default";return n[r].test(String(e))},la=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r<n},ua=function({value:t},n,r){if(!isNaN(t)&&!isNaN(n)&&!isNaN(r)){const i=1*t;n=Number(n),r=Number(r);const[s,a]=n<=r?[n,r]:[r,n];return i>=1*s&&i<=1*a}return!1},ln=/(_confirm(?:ed)?)$/,ca=function(t,n,r="loose"){var i;n||(n=ln.test(t.name)?t.name.replace(ln,""):`${t.name}_confirm`);const s=(i=t.at(n))===null||i===void 0?void 0:i.value;return r==="strict"?t.value===s:t.value==s},fa=function({value:e},t="default"){const n={default:new RegExp("\\p{L}","u"),latin:/[a-z]/i},r=O(n,t)?t:"default";return n[r].test(String(e))},pa=function({value:e},t="default"){const n={default:/[\p{L} ]/u,latin:/[a-z ]/i},r=O(n,t)?t:"default";return n[r].test(String(e))},da=function({value:e},t="default"){const n={default:/[0-9\p{L}]/u,latin:/[0-9a-z]/i},r=O(n,t)?t:"default";return n[r].test(String(e))},ma=function({value:e},t="default"){const n={default:new RegExp("\\p{Ll}","u"),latin:/[a-z]/},r=O(n,t)?t:"default";return n[r].test(String(e))},ha=function({value:t}){return/[0-9]/.test(String(t))},ga=function({value:e}){return/[!-/:-@[-`{-~]/.test(String(e))},va=function({value:e},t="default"){const n={default:new RegExp("\\p{Lu}","u"),latin:/[A-Z]/},r=O(n,t)?t:"default";return n[r].test(String(e))},ya=function({value:t},n,r){n=n instanceof Date?n.getTime():Date.parse(n),r=r instanceof Date?r.getTime():Date.parse(r);const i=t instanceof Date?t.getTime():Date.parse(String(t));if(n&&!r)r=n,n=Date.now();else if(!n||!i)return!1;return i>=n&&i<=r},ba=function({value:t},n){return n&&typeof n=="string"?Wr(n).test(String(t)):!isNaN(Date.parse(String(t)))},_a=function({value:t}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(t))},$a=function({value:t},...n){return typeof t=="string"&&n.length?n.some(r=>t.endsWith(r)):typeof t=="string"&&n.length===0},wa=function({value:t},...n){return n.some(r=>typeof r=="object"?W(r,t):r==t)},xa=function({value:t},n=0,r=1/0){n=parseInt(n),r=isNaN(parseInt(r))?1/0:parseInt(r);const i=n<=r?n:r,s=r>=n?r:n;if(typeof t=="string"||Array.isArray(t))return t.length>=i&&t.length<=s;if(t&&typeof t=="object"){const a=Object.keys(t).length;return a>=i&&a<=s}return!1},ka=function({value:e},t="default"){const n={default:new RegExp("^\\p{Ll}+$","u"),latin:/^[a-z]+$/},r=O(n,t)?t:"default";return n[r].test(String(e))},Sa=function({value:t},...n){return n.some(r=>(typeof r=="string"&&r.substr(0,1)==="/"&&r.substr(-1)==="/"&&(r=new RegExp(r.substr(1,r.length-2))),r instanceof RegExp?r.test(String(t)):r===t))},Pa=function({value:t},n=10){return Array.isArray(t)?t.length<=n:Number(t)<=Number(n)},Aa=function({value:t},n=1){return Array.isArray(t)?t.length>=n:Number(t)>=Number(n)},Oa=function({value:t},...n){return!n.some(r=>typeof r=="object"?W(r,t):r===t)},Ia=function({value:t}){return!isNaN(t)},nr=function(e,...t){return Y(e.value)?t.map(r=>{var i;return(i=e.at(r))===null||i===void 0?void 0:i.value}).some(r=>!Y(r)):!0};nr.skipEmpty=!1;const rr=function({value:t},n="default"){return n==="trim"&&typeof t=="string"?!Y(t.trim()):!Y(t)};rr.skipEmpty=!1;const Ca=function({value:t},...n){return typeof t=="string"&&n.length?n.some(r=>t.startsWith(r)):typeof t=="string"&&n.length===0},Ea=function({value:e}){return/^[!-/:-@[-`{-~]+$/.test(String(e))},Na=function({value:e},t="default"){const n={default:new RegExp("^\\p{Lu}+$","u"),latin:/^[A-Z]+$/},r=O(n,t)?t:"default";return n[r].test(String(e))},Ra=function({value:t},...n){try{const r=n.length?n:["http:","https:"],i=new URL(String(t));return r.includes(i.protocol)}catch{return!1}},Ma=Object.freeze(Object.defineProperty({__proto__:null,accepted:tr,alpha:sa,alpha_spaces:aa,alphanumeric:oa,between:ua,confirm:ca,contains_alpha:fa,contains_alpha_spaces:pa,contains_alphanumeric:da,contains_lowercase:ma,contains_numeric:ha,contains_symbol:ga,contains_uppercase:va,date_after:ia,date_before:la,date_between:ya,date_format:ba,email:_a,ends_with:$a,is:wa,length:xa,lowercase:ka,matches:Sa,max:Pa,min:Aa,not:Oa,number:Ia,require_one:nr,required:rr,starts_with:Ca,symbol:Ea,uppercase:Na,url:Ra},Symbol.toStringTag,{value:"Module"})),ir=new WeakSet;function ze(e,t){const n=t||Object.assign(new Map,{active:!1}),r=new Map,i=function(g){var S;n.active&&(n.has(e)||n.set(e,new Set),(S=n.get(e))===null||S===void 0||S.add(g))},s=function(g){return new Proxy(g,{get(...S){return typeof S[1]=="string"&&i(`prop:${S[1]}`),Reflect.get(...S)}})},a=function(g){return new Proxy(g,{get(...S){return S[1]==="value"?C=>(i(`count:${C}`),g.value(C)):Reflect.get(...S)}})},o=function(g,S){return Ue(g)?ze(g,n):(S==="value"&&i("commit"),S==="_value"&&i("input"),S==="props"?s(g):S==="ledger"?a(g):g)},{proxy:f,revoke:_}=Proxy.revocable(e,{get(...g){switch(g[1]){case"_node":return e;case"deps":return n;case"watch":return(C,w)=>or(f,C,w);case"observe":return()=>{const C=new Map(n);return n.clear(),n.active=!0,C};case"stopObserve":return()=>{const C=new Map(n);return n.active=!1,C};case"receipts":return r;case"kill":return()=>{ar(r),ir.add(g[2]),_()}}const S=Reflect.get(...g);return typeof S=="function"?(...C)=>{const w=S(...C);return o(w,g[1])}:o(S,g[1])}});return f}function sr(e,[t,n],r){t.forEach((i,s)=>{i.forEach(a=>{var o;e.receipts.has(s)||e.receipts.set(s,{}),e.receipts.set(s,Object.assign((o=e.receipts.get(s))!==null&&o!==void 0?o:{},{[a]:s.on(a,r)}))})}),n.forEach((i,s)=>{i.forEach(a=>{if(e.receipts.has(s)){const o=e.receipts.get(s);o&&O(o,a)&&(s.off(o[a]),delete o[a],e.receipts.set(s,o))}})})}function ar(e){e.forEach((t,n)=>{for(const r in t)n.off(t[r])})}function or(e,t,n){const r=a=>{const o=e.stopObserve();sr(e,lr(i,o),()=>or(e,t,n)),n&&n(a)},i=new Map(e.deps);e.observe();const s=t(e);s instanceof Promise?s.then(a=>r(a)):r(s)}function lr(e,t){const n=new Map,r=new Map;return t.forEach((i,s)=>{if(!e.has(s))n.set(s,i);else{const a=new Set,o=e.get(s);i.forEach(f=>!(o!=null&&o.has(f))&&a.add(f)),n.set(s,a)}}),e.forEach((i,s)=>{if(!t.has(s))r.set(s,i);else{const a=new Set,o=t.get(s);i.forEach(f=>!(o!=null&&o.has(f))&&a.add(f)),r.set(s,a)}}),[n,r]}function ur(e){return ir.has(e)}const Ct=ee({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function Fa(e={}){return function(n){let r=J(n.props.validationRules||{}),i={...e,...r},s=ze(n);const a={input:Me(),rerun:null,isPassing:!0};let o=J(n.props.validation);n.on("prop:validation",({payload:_})=>f(_,r)),n.on("prop:validationRules",({payload:_})=>f(o,_));function f(_,g){var S;W(Object.keys(r||{}),Object.keys(g||{}))&&W(o,_)||(r=J(g),o=J(_),i={...e,...r},ar(s.receipts),(S=n.props.parsedRules)===null||S===void 0||S.forEach(C=>{var w;C.messageObserver=(w=C.messageObserver)===null||w===void 0?void 0:w.kill()}),n.store.filter(()=>!1,"validation"),n.props.parsedRules=cn(_,i),s.kill(),s=ze(n),Et(s,n.props.parsedRules,a))}n.props.parsedRules=cn(o,i),Et(s,n.props.parsedRules,a)}}function Et(e,t,n){ur(e)||(n.input=Me(),n.isPassing=!0,e.store.filter(r=>!r.meta.removeImmediately,"validation"),t.forEach(r=>r.debounce&&clearTimeout(r.timer)),t.length&&(e.store.set(Ct),Nt(0,t,e,n,!1,()=>{e.store.remove(Ct.key)})))}function Nt(e,t,n,r,i,s){const a=t[e];if(!a)return s();const o=r.input;a.state=null;function f(_,g){r.isPassing=r.isPassing&&!!g,a.queued=!1;const S=n.stopObserve();sr(n,lr(a.deps,S),()=>{try{n.store.set(Ct)}catch{}a.queued=!0,r.rerun&&clearTimeout(r.rerun),r.rerun=setTimeout(Et,0,n,t,r)}),a.deps=S,r.input===o&&(a.state=g,g===!1?Da(n,a,i||_):ja(n,a),t.length>e+1?Nt(e+1,t,n,r,i||_,s):s())}(!Y(n.value)||!a.skipEmpty)&&(r.isPassing||a.force)?a.queued?Ta(a,n,_=>{_ instanceof Promise?_.then(g=>f(!0,g)):f(!1,_)}):Nt(e+1,t,n,r,i,s):Y(n.value)&&a.skipEmpty&&r.isPassing?(n.observe(),n.value,f(!1,r.isPassing)):f(!1,null)}function Ta(e,t,n){e.debounce?e.timer=setTimeout(()=>{t.observe(),n(e.rule(t,...e.args))},e.debounce):(t.observe(),n(e.rule(t,...e.args)))}function ja(e,t){const n=`rule_${t.name}`;t.messageObserver&&(t.messageObserver=t.messageObserver.kill()),O(e.store,n)&&e.store.remove(n)}function Da(e,t,n){ur(e)||(t.messageObserver||(t.messageObserver=ze(e._node)),t.messageObserver.watch(r=>qa(r,t),r=>{const i=Va(e,t,r),s=ee({blocking:t.blocking,key:`rule_${t.name}`,meta:{messageKey:t.name,removeImmediately:n,localize:!i,i18nArgs:r},type:"validation",value:i||"This field is not valid."});e.store.set(s)}))}function Va(e,t,n){const r=e.props.validationMessages&&O(e.props.validationMessages,t.name)?e.props.validationMessages[t.name]:void 0;return typeof r=="function"?r(...n):r}function qa(e,t){return[{node:e,name:cr(e),args:t.args}]}function cr(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}const fr="(?:[\\*+?()0-9]+)",pr="[a-zA-Z][a-zA-Z0-9_]+",La=new RegExp(`^(${fr}?${pr})(?:\\:(.*)+)?$`,"i"),Ha=new RegExp(`^(${fr})(${pr})$`,"i"),za=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,un=/\(\d+\)/,Ka={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function cn(e,t){return e?(typeof e=="string"?Wa(e):Ee(e)).reduce((r,i)=>{let s=i.shift();const a={};if(typeof s=="string"){const[o,f]=Ba(s);O(t,o)&&(s=t[o],Object.assign(a,f))}return typeof s=="function"&&r.push({rule:s,args:i,timer:0,state:null,queued:!0,deps:new Map,...Ka,...Ga(a,s)}),r},[]):[]}function Wa(e){return e.split("|").reduce((t,n)=>{const r=Ua(n);return r&&t.push(r),t},[])}function Ua(e){const t=e.trim();if(t){const n=t.match(La);if(n&&typeof n[1]=="string"){const r=n[1].trim(),i=n[2]&&typeof n[2]=="string"?n[2].split(",").map(s=>s.trim()):[];return[r,...i]}}return!1}function Ba(e){const t=e.match(Ha);if(!t)return[e,{name:e}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,r,i]=t,s=un.test(r)?r.match(za)||[]:[,r];return[i,[s[1],s[2],s[3]].reduce((a,o)=>(o&&(un.test(o)?a.debounce=parseInt(o.substr(1,o.length-1)):o.split("").forEach(f=>O(n,f)&&Object.assign(a,n[f]))),a),{name:i})]}function Ga(e,t){return e.name||(e.name=t.ruleName||t.name),["skipEmpty","force","debounce","blocking"].reduce((n,r)=>(O(t,r)&&!O(n,r)&&Object.assign(n,{[r]:t[r]}),n),e)}function M(e){return e[0].toUpperCase()+e.substr(1)}function fn(e,t="or"){return e.reduce((n,r,i)=>(n+=r,i<=e.length-2&&e.length>2&&(n+=", "),i===e.length-2&&(n+=`${e.length===2?" ":""}${t} `),n),"")}function Je(e){const t=typeof e=="string"?new Date(Date.parse(e)):e;return t instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(t):"(unknown)"}function Ya(e,t){return Number(e)>=Number(t)?[t,e]:[e,t]}const Za={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",summaryHeader:"There were errors in your form.",close:"Close"},Ja={accepted({name:e}){return`Please accept the ${e}.`},date_after({name:e,args:t}){return Array.isArray(t)&&t.length?`${M(e)} must be after ${Je(t[0])}.`:`${M(e)} must be in the future.`},alpha({name:e}){return`${M(e)} can only contain alphabetical characters.`},alphanumeric({name:e}){return`${M(e)} can only contain letters and numbers.`},alpha_spaces({name:e}){return`${M(e)} can only contain letters and spaces.`},contains_alpha({name:e}){return`${M(e)} must contain alphabetical characters.`},contains_alphanumeric({name:e}){return`${M(e)} must contain letters or numbers.`},contains_alpha_spaces({name:e}){return`${M(e)} must contain letters or spaces.`},contains_symbol({name:e}){return`${M(e)} must contain a symbol.`},contains_uppercase({name:e}){return`${M(e)} must contain an uppercase letter.`},contains_lowercase({name:e}){return`${M(e)} must contain a lowercase letter.`},contains_numeric({name:e}){return`${M(e)} must contain numbers.`},symbol({name:e}){return`${M(e)} must be a symbol.`},uppercase({name:e}){return`${M(e)} can only contain uppercase letters.`},lowercase({name:e}){return`${M(e)} can only contain lowercase letters.`},date_before({name:e,args:t}){return Array.isArray(t)&&t.length?`${M(e)} must be before ${Je(t[0])}.`:`${M(e)} must be in the past.`},between({name:e,args:t}){if(isNaN(t[0])||isNaN(t[1]))return"This field was configured incorrectly and cant be submitted.";const[n,r]=Ya(t[0],t[1]);return`${M(e)} must be between ${n} and ${r}.`},confirm({name:e}){return`${M(e)} does not match.`},date_format({name:e,args:t}){return Array.isArray(t)&&t.length?`${M(e)} is not a valid date, please use the format ${t[0]}`:"This field was configured incorrectly and cant be submitted"},date_between({name:e,args:t}){return`${M(e)} must be between ${Je(t[0])} and ${Je(t[1])}`},email:"Please enter a valid email address.",ends_with({name:e,args:t}){return`${M(e)} doesnt end with ${fn(t)}.`},is({name:e}){return`${M(e)} is not an allowed value.`},length({name:e,args:[t=0,n=1/0]}){const r=Number(t)<=Number(n)?t:n,i=Number(n)>=Number(t)?n:t;return r==1&&i===1/0?`${M(e)} must be at least one character.`:r==0&&i?`${M(e)} must be less than or equal to ${i} characters.`:r===i?`${M(e)} should be ${i} characters long.`:r&&i===1/0?`${M(e)} must be greater than or equal to ${r} characters.`:`${M(e)} must be between ${r} and ${i} characters.`},matches({name:e}){return`${M(e)} is not an allowed value.`},max({name:e,node:{value:t},args:n}){return Array.isArray(t)?`Cannot have more than ${n[0]} ${e}.`:`${M(e)} must be no more than ${n[0]}.`},mime({name:e,args:t}){return t[0]?`${M(e)} must be of the type: ${t[0]}`:"No file formats allowed."},min({name:e,node:{value:t},args:n}){return Array.isArray(t)?`Cannot have fewer than ${n[0]} ${e}.`:`${M(e)} must be at least ${n[0]}.`},not({name:e,node:{value:t}}){return`${t} is not an allowed ${e}.`},number({name:e}){return`${M(e)} must be a number.`},require_one:({name:e,node:t,args:n})=>{const r=n.map(i=>{const s=t.at(i);return s?cr(s):!1}).filter(i=>!!i);return r.unshift(e),`${r.join(" or ")} is required.`},required({name:e}){return`${M(e)} is required.`},starts_with({name:e,args:t}){return`${M(e)} doesnt start with ${fn(t)}.`},url(){return"Please enter a valid URL."},invalidDate:"The selected date is invalid."};var Qa=Object.freeze({__proto__:null,ui:Za,validation:Ja});function Xa(e){return function(n){let r=pn(n.config.locale,e),i=r?e[r]:{};n.on("prop:locale",({payload:s})=>{r=pn(s,e),i=r?e[r]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((s,a)=>{var o,f;const _=((o=s.meta)===null||o===void 0?void 0:o.messageKey)||s.key;if(O(i,s.type)&&O(i[s.type],_)){const g=i[s.type][_];typeof g=="function"?s.value=Array.isArray((f=s.meta)===null||f===void 0?void 0:f.i18nArgs)?g(...s.meta.i18nArgs):g(s):s.value=g}return a(s)})}}function pn(e,t){if(O(t,e))return e;const[n]=e.split("-");if(O(t,n))return n;for(const r in t)return r;return!1}function Vl(e){const t={};return Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(r=>{t[r]?t[r][n]=e[n][r]:t[r]={[n]:e[n][r]}})}),Object.keys(t).forEach(n=>{const r=t[n];t[n]=function(i,s){return eo(i,s,r)}}),t}function eo(e,t,n){const r=e.props.type,i=e.props.family;let s="";n.global&&(s+=n.global+" "),n[`family:${i}`]&&(s+=n[`family:${i}`]+" "),n[r]&&(s+=n[r]);const a=s.split("$reset");return a.length>1?`$reset ${a[a.length-1].trim()}`:a[0].trim()}let X,ne=null,pt,dr=!1,Ve=!1;const to=new Promise(e=>{pt=()=>{dr=!0,e()}}),oe=typeof window<"u"&&typeof fetch<"u";X=oe?getComputedStyle(document.documentElement):void 0;const ke={},yt={};function no(e,t,n,r){t&&Object.assign(ke,t),oe&&!Ve&&(X!=null&&X.getPropertyValue("--formkit-theme"))?(pt(),Ve=!0):e&&!Ve&&oe?ro(e):!Ve&&oe&&pt();const i=function(a){var o,f;a.addProps(["iconLoader","iconLoaderUrl"]),a.props.iconHandler=dn(!((o=a.props)===null||o===void 0)&&o.iconLoader?a.props.iconLoader:r,!((f=a.props)===null||f===void 0)&&f.iconLoaderUrl?a.props.iconLoaderUrl:n),ao(a,a.props.iconHandler),a.on("created",()=>{var _;!((_=a==null?void 0:a.context)===null||_===void 0)&&_.handlers&&(a.context.handlers.iconClick=g=>{const S=`on${g.charAt(0).toUpperCase()}${g.slice(1)}IconClick`,C=a.props[S];if(C&&typeof C=="function")return w=>C(a,w)})})};return i.iconHandler=dn(r,n),i}function ro(e){if(!(!e||!oe||typeof getComputedStyle!="function")&&(Ve=!0,ne=document.getElementById("formkit-theme"),e&&oe&&(!(X!=null&&X.getPropertyValue("--formkit-theme"))&&!ne||ne!=null&&ne.getAttribute("data-theme")&&(ne==null?void 0:ne.getAttribute("data-theme"))!==e))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${st.startsWith("__")?"latest":st}/dist/${e}/theme.css`,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.id="formkit-theme",r.setAttribute("data-theme",e),r.onload=()=>{X=getComputedStyle(document.documentElement),pt()},document.head.appendChild(r),r.href=n,ne&&ne.remove()}}function dn(e,t){return n=>{if(typeof n!="string")return;if(n.startsWith("<svg"))return n;const r=n.startsWith("default:");n=r?n.split(":")[1]:n;const i=n in ke;let s;if(i)return ke[n];if(!yt[n]){if(s=io(n),s=oe&&typeof s>"u"?Promise.resolve(s):s,s instanceof Promise)yt[n]=s.then(a=>!a&&typeof n=="string"&&!r?s=typeof e=="function"?e(n):so(n,t):a).then(a=>(typeof n=="string"&&(ke[r?`default:${n}`:n]=a),a));else if(typeof s=="string")return ke[r?`default:${n}`:n]=s,s}return yt[n]}}function io(e){if(oe)return dr?mn(e):to.then(()=>mn(e))}function mn(e){const t=X==null?void 0:X.getPropertyValue(`--fk-icon-${e}`);if(t){const n=atob(t);if(n.startsWith("<svg"))return ke[e]=n,n}}function so(e,t){const n=st.startsWith("__")?"latest":st,r=typeof t=="function"?t(e):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${e}.svg`;if(oe)return fetch(`${r}`).then(async i=>{const s=await i.text();if(s.startsWith("<svg"))return s}).catch(i=>{console.error(i)})}function ao(e,t){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(e.props).filter(i=>n.test(i)).forEach(i=>oo(e,t,i))}function oo(e,t,n){const r=e.props[n],i=t(r),s=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,a=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(e.addProps([s,a]),e.on(`prop:${n}`,lo),i instanceof Promise)return i.then(o=>{e.props[s]=o});e.props[s]=i}function lo(e){var t;const n=e.origin,r=e.payload,i=(t=n==null?void 0:n.props)===null||t===void 0?void 0:t.iconHandler,s=e.name.split(":")[1],a=`_raw${s.charAt(0).toUpperCase()}${s.slice(1)}`;if(i&&typeof i=="function"){const o=i(r);if(o instanceof Promise)return o.then(f=>{n.props[a]=f});n.props[a]=o}}const hn={100:({data:e})=>`Only groups, lists, and forms can have children (${e.name}).`,101:({data:e})=>`You cannot directly modify the store (${e.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[e,t]})=>`You cannot directly assign node.${t} (${e.name})`,103:({data:[e]})=>`Schema expressions cannot start with an operator (${e})`,104:({data:[e,t]})=>`Schema expressions cannot end with an operator (${e} in "${t}")`,105:({data:e})=>`Invalid schema expression: ${e}`,106:({data:e})=>`Cannot submit because (${e}) is not in a form.`,107:({data:[e,t]})=>`Cannot set ${e.name} to non object value: ${t}`,108:({data:[e,t]})=>`Cannot set ${e.name} to non array value: ${t}`,300:({data:[e]})=>`Cannot set behavior prop to overscroll (on ${e.name} input) when options prop is a function.`,600:({data:e})=>`Unknown input type${typeof e.props.type=="string"?' "'+e.props.type+'"':""} ("${e.name}")`,601:({data:e})=>`Input definition${typeof e.props.type=="string"?' "'+e.props.type+'"':""} is missing a schema or component property (${e.name}).`},gn={150:({data:e})=>`Schema function "${e}()" is not a valid function.`,151:({data:e})=>`No form element with id: ${e}`,152:({data:e})=>`No input element with id: ${e}`,350:({data:{node:e,inputType:t}})=>`Invalid options prop for ${e.name} input (${t}). See https://formkit.com/inputs/${t}`,650:'Schema "$get()" must use the id of an input to access.',651:({data:e})=>`Cannot setErrors() on "${e}" because no such id exists.`,652:({data:e})=>`Cannot clearErrors() on "${e}" because no such id exists.`,800:({data:e})=>`${e} is deprecated.`},uo=(e,t)=>{if(e.code in hn){const n=hn[e.code];e.message=typeof n=="function"?n(e):n}return t(e)};let vn=!1;function co(){vn||(Tt(uo),jt(fo),vn=!0)}const fo=(e,t)=>{if(e.code in gn){const n=gn[e.code];e.message=typeof n=="function"?n(e):n}return t(e)},po=typeof window>"u",bt=new Map;function mo(e,t){var n;!po||!e||(bt.has(e)||bt.set(e,new Set),(n=bt.get(e))===null||n===void 0||n.add(t))}const mr=typeof window>"u",He={},Oe={};let z;const ie=new WeakMap,ho="__raw__",go=/[a-zA-Z0-9\-][cC]lass$/;function vo(e,t){const n=D(null);if(e==="get"){const i={};return n.value=yo.bind(null,i),n}const r=e.split(".");return re(()=>{n.value=Kt(Ie(t)?t.value:t,r)}),n}function Kt(e,t){if(Array.isArray(e)){for(const i of e){const s=i!==!1&&Kt(i,t);if(s!==void 0)return s}return}let n,r=e;for(const i in t){const s=t[i];if(typeof r!="object"||r===null){n=void 0;break}const a=r[s];if(Number(i)===t.length-1&&a!==void 0){n=typeof a=="function"?a.bind(r):a;break}r=a}return n}function yo(e,t){if(typeof t!="string")return We(650);if(t in e||(e[t]=D(void 0)),e[t].value===void 0){e[t].value=null;const n=Nn(t);n&&(e[t].value=n.context),vi(t,({payload:r})=>{e[t].value=Ue(r)?r.context:r})}return e[t].value}function yn(e,t,n){function r(w,x){const l=S(Z(x.if),{if:!0}),p=_(w,x.then),d=x.else?_(w,x.else):null;return[l,p,d]}function i(w,x){var l,p;const d=S(Z(w.if));let y=()=>x,k=()=>x;return typeof w.then=="object"?k=s(w.then,void 0):typeof w.then=="string"&&(!((l=w.then)===null||l===void 0)&&l.startsWith("$"))?k=S(Z(w.then)):k=()=>w.then,O(w,"else")&&(typeof w.else=="object"?y=s(w.else):typeof w.else=="string"&&(!((p=w.else)===null||p===void 0)&&p.startsWith("$"))?y=S(Z(w.else)):y=()=>w.else),()=>d()?k():y()}function s(w,x,l={}){const p=new Set(Object.keys(w||{})),d=x?S(Z(x)):()=>({}),y=[k=>{const h=d();for(const $ in h)p.has($)||(k[$]=h[$])}];if(w){if(we(w))return i(w,l);for(let k in w){const h=w[k];let $;const u=typeof h=="string";k.startsWith(ho)?(k=k.substring(7),$=()=>h):u&&h.startsWith("$")&&h.length>1&&!(h.startsWith("$reset")&&go.test(k))?$=S(Z(h)):typeof h=="object"&&we(h)?$=i(h,void 0):typeof h=="object"&&Ce(h)?$=s(h):$=()=>h,y.push(m=>{m[k]=$()})}}return()=>{const k=Array.isArray(w)?[]:{};return y.forEach(h=>h(k)),k}}function a(w,x){let l=null,p=()=>null,d=!1,y=null,k=null,h=null,$=!1;const u=ps(x);if(At(u)?(l=u.$el,p=u.$el!=="text"?s(u.attrs,u.bind):()=>null):Ot(u)?(typeof u.$cmp=="string"?O(w,u.$cmp)?l=w[u.$cmp]:(l=u.$cmp,$=!0):l=u.$cmp,p=s(u.props,u.bind)):we(u)&&([d,y,k]=r(w,u)),!we(u)&&"if"in u?d=S(Z(u.if)):!we(u)&&l===null&&(d=()=>!0),"children"in u&&u.children)if(typeof u.children=="string")if(u.children.startsWith("$slots."))l=l==="text"?"slot":l,y=S(Z(u.children));else if(u.children.startsWith("$")&&u.children.length>1){const m=S(Z(u.children));y=()=>String(m())}else y=()=>String(u.children);else if(Array.isArray(u.children))y=_(w,u.children);else{const[m,I,R]=r(w,u.children);y=c=>m&&m()?I&&I(c):R&&R(c)}if(Ot(u))if(y){const m=y;y=I=>({default(R,c){var v,A,E,V;const j=z;c&&(z=c),R&&((v=ie.get(z))===null||v===void 0||v.unshift(R)),I&&((A=ie.get(z))===null||A===void 0||A.unshift(I));const T=m(I);return R&&((E=ie.get(z))===null||E===void 0||E.shift()),I&&((V=ie.get(z))===null||V===void 0||V.shift()),z=j,T}}),y.slot=!0}else y=()=>({});if("for"in u&&u.for){const m=u.for.length===3?u.for[2]:u.for[1];h=[typeof m=="string"&&m.startsWith("$")?S(Z(m)):()=>m,u.for[0],u.for.length===3?String(u.for[1]):null]}return[d,l,p,y,k,h,$]}function o(w,x){const l=w(x),p=z;return Object.keys(l).reduce((d,y)=>{const k=l&&l[y];return d[y]=h=>k&&k(h,p)||null,d},{})}function f(w,x){const[l,p,d,y,k,h,$]=a(w,x);let u=m=>{if(l&&p===null&&y)return l()?y(m):k&&k(m);if(p&&(!l||l())){if(p==="text"&&y)return ge(String(y()));if(p==="slot"&&y)return y(m);const I=$?xr(p):p,R=y!=null&&y.slot?o(y,m):null;return se(I,d(),R||(y?y(m):[]))}return typeof k=="function"?k(m):k};if(h){const m=u,[I,R,c]=h;u=()=>{const v=I(),A=Number.isFinite(v)?Array(Number(v)).fill(0).map((T,H)=>H):v,E=[];if(typeof A!="object")return null;const V=ie.get(z)||[],j=Array.isArray(A);for(const T in A){if(j&&T in Array.prototype)continue;const H=Object.defineProperty({...V.reduce((me,te)=>me.__idata?{...me,...te}:te,{}),[R]:A[T],...c!==null?{[c]:j?Number(T):T}:{}},"__idata",{enumerable:!1,value:!0});V.unshift(H),E.push(m.bind(null,H)()),V.shift()}return E}}return u}function _(w,x){if(Array.isArray(x)){const p=x.map(f.bind(null,w));return d=>p.map(y=>y(d))}const l=f(w,x);return p=>l(p)}const g=[];function S(w,x={}){const l=new WeakMap;return g.push((p,d)=>{l.set(d,w.provide(y=>p(y,x)))}),()=>l.get(z)()}function C(w,x){var l;n??(n=gr(t));const[p,d]=O(He,n)?He[n]:[_(e,t),g];return mr||((l=Oe[n])!==null&&l!==void 0||(Oe[n]=0),Oe[n]++,He[n]=[p,d]),d.forEach(y=>{y(w,x)}),()=>(z=x,p())}return C}function hr(e,t){const n=ie.get(z)||[];let r;return n.length&&(r=Kt(n,e.split("."))),r===void 0?t:r}function bo(e,t){return new Proxy(e,{get(...n){let r;const i=n[1];if(typeof i=="string"){const s=z;z=t,r=hr(i,void 0),z=s}return r!==void 0?r:Reflect.get(...n)}})}function bn(e,t,n){return e((r,i={})=>r.reduce((s,a)=>{if(a.startsWith("slots.")){const o=a.substring(6),f=()=>t.slots&&O(t.slots,o)&&typeof t.slots[o]=="function";if(i.if)s[a]=f;else if(t.slots){const _=bo(t,n);s[a]=()=>f()?t.slots[o](_):null}}else{const o=vo(a,t);s[a]=()=>hr(a,o.value)}return s},{}),n)}function _n(e,t,n){if(t??(t=gr(e)),Oe[t]--,Oe[t]===0){delete Oe[t];const[,r]=He[t];delete He[t],r.length=0}ie.delete(n)}function gr(e){return JSON.stringify(e,(t,n)=>typeof n=="function"?n.toString():n)}const _o=fe({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})},memoKey:{type:String,required:!1}},setup(e,t){var n;const r=rt();let i={};ie.set(i,[]);const s={FormKit:Rt(_e),...e.library};let a=yn(s,e.schema,e.memoKey),o,f;mr||qe(()=>e.schema,(g,S)=>{var C;const w=i;i={},ie.set(i,[]),a=yn(s,e.schema,e.memoKey),o=bn(a,f,i),g===S&&((C=r==null?void 0:r.proxy)===null||C===void 0?void 0:C.$forceUpdate)(),_n(e.schema,e.memoKey,w)},{deep:!0}),re(()=>{var g;f=Object.assign(je((g=e.data)!==null&&g!==void 0?g:{}),{slots:t.slots}),t.slots,o=bn(a,f,i)});function _(){_n(e.schema,e.memoKey,i),f.node&&f.node.destroy(),f.slots=null,f=null,o=null}return $r(_),mo((n=rt())===null||n===void 0?void 0:n.appContext.app,_),()=>o?o():null}}),$o=typeof window>"u",$n=Symbol("FormKitParent");function wo(e,t){const n=Ao(e,t);if(n.props.definition||B(600,n),n.props.definition.component)return()=>{var f;return se((f=n.props.definition)===null||f===void 0?void 0:f.component,{context:n.context},{...t.slots})};const r=D([]);let i=n.props.definition.schemaMemoKey;const s=()=>{var f,_;const g=(_=(f=n.props)===null||f===void 0?void 0:f.definition)===null||_===void 0?void 0:_.schema;g||B(601,n),typeof g=="function"?(r.value=g({...e.sectionsSchema}),(i&&e.sectionsSchema||"memoKey"in g&&typeof g.memoKey=="string")&&(i=(i??(g==null?void 0:g.memoKey))+JSON.stringify(e.sectionsSchema))):r.value=g};s(),$o||n.on("schema",()=>{i+="",s()}),t.emit("node",n);const a=n.props.definition.library,o={FormKit:Rt(_e),...a};return t.expose({node:n}),()=>se(_o,{schema:r.value,data:n.context,library:o,memoKey:i},{...t.slots})}const _e=fe(wo,{props:hs,inheritAttrs:!1}),xo=Symbol(),Wt=Symbol.for("FormKitOptions"),ko=Symbol.for("FormKitConfig"),So=typeof window<"u",_t=["help","label","ignore","disabled","preserve",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/];function wn(e,t){t.classes&&Object.keys(t.classes).forEach(n=>{typeof n=="string"&&(e.props[`_${n}Class`]=t.classes[n],Le(t.classes[n])&&n==="inner"&&Object.values(t.classes[n]))})}function Po(e){return e?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,r)=>{const i=`on${r}`;return i in e&&typeof e[i]=="function"&&(n[i]=e[i]),n},{}):{}}function Ao(e,t,n={}){var r;const i=Object.assign({},Qe(Wt)||{},n),s=Qe(xo,D(So?document:void 0)),a=rt(),o=Po(a==null?void 0:a.vnode.props),f=["modelValue","model-value"].some(u=>{var m;return u in((m=a==null?void 0:a.vnode.props)!==null&&m!==void 0?m:{})});let _=!1;yr(()=>{_=!0});const g=e.modelValue!==void 0?e.modelValue:J(t.attrs.value);function S(){var u;const m={...$e(e),...o,type:(u=e.type)!==null&&u!==void 0?u:"text",__root:s.value,__slots:t.slots},I=Yt($e(t.attrs),_t);I.key||(I.key=Me()),m.attrs=I;const R=Zt($e(t.attrs),_t);for(const v in R)m[Se(v)]=R[v];const c={props:{}};return wn(c,e),Object.assign(m,c.props),typeof m.type!="string"&&(m.definition=m.type,delete m.type),m}const C=S(),w=C.ignore?null:e.parent||Qe($n,null),x=cs(ve(i||{},{name:e.name||void 0,value:g,parent:w,plugins:(i.plugins||[]).concat((r=e.plugins)!==null&&r!==void 0?r:[]),config:e.config||{},props:C,index:e.index,sync:!!Q(t.attrs.sync||t.attrs.dynamic)},!1,!0));x.props.definition||B(600,x);const l=D(new Set(x.props.definition.props||[]));x.on("added-props",({payload:u})=>{Array.isArray(u)&&u.forEach(m=>l.value.add(m))});const p=xe(()=>_t.concat([...l.value]).reduce((u,m)=>(typeof m=="string"?(u.push(Se(m)),u.push(An(m))):u.push(m),u),[]));re(()=>wn(x,e));const d=$e(e);for(const u in d)qe(()=>e[u],()=>{e[u]!==void 0&&(x.props[u]=e[u])});re(()=>{x.props.__root=s.value});const y=new Set,k=$e(t.attrs);re(()=>{h(Zt(k,p.value))});function h(u){y.forEach(m=>{m(),y.delete(m)});for(const m in u){const I=Se(m);y.add(qe(()=>t.attrs[m],()=>{x.props[I]=t.attrs[m]}))}}if(re(()=>{const u=Yt($e(t.attrs),p.value);"multiple"in u&&(u.multiple=Q(u.multiple)),typeof u.onBlur=="function"&&(u.onBlur=Jr(u.onBlur)),x.props.attrs=Object.assign({},x.props.attrs||{},u)}),re(()=>{var u;const m=((u=e.errors)!==null&&u!==void 0?u:[]).map(I=>ee({key:Mt(I),type:"error",value:I,meta:{source:"prop"}}));x.store.apply(m,I=>I.type==="error"&&I.meta.source==="prop")}),x.type!=="input"){const u=`${x.name}-prop`;re(()=>{var m;const I=(m=e.inputErrors)!==null&&m!==void 0?m:{},R=Object.keys(I);R.length||x.clearErrors(!0,u);const c=R.reduce((v,A)=>{let E=I[A];return typeof E=="string"&&(E=[E]),Array.isArray(E)&&(v[A]=E.map(V=>ee({key:V,type:"error",value:V,meta:{source:u}}))),v},{});x.store.apply(c,v=>v.type==="error"&&v.meta.source===u)})}re(()=>Object.assign(x.config,e.config)),x.type!=="input"&&$t($n,x);let $;return x.on("modelUpdated",()=>{var u,m;t.emit("inputRaw",(u=x.context)===null||u===void 0?void 0:u.value,x),_&&t.emit("input",(m=x.context)===null||m===void 0?void 0:m.value,x),f&&x.context&&($=J(x.value),t.emit("update:modelValue",xt(x.value)))}),f&&(qe(br(e,"modelValue"),u=>{W($,u)||x.input(u,!1)},{deep:!0}),x.value!==g&&x.emit("modelUpdated")),_r(()=>x.destroy()),x}function ql(e){return()=>typeof e=="function"?e():e}function Oo(e){const t=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof e=="function"?e():e),n=yi(t.config||{});t.config={rootConfig:n},$t(Wt,t),$t(ko,n),typeof window<"u"&&(globalThis.__FORMKIT_CONFIGS__=(globalThis.__FORMKIT_CONFIGS__||[]).concat([n]))}const Io=fe(function(t,{slots:n,attrs:r}){const i={};return t.config&&Oo(t.config),()=>n.default?n.default(i).map(s=>se(s,{...r,...s.props})):null},{props:["config"],name:"FormKitProvider",inheritAttrs:!1}),xn=fe(async function(t,n){var r;let i={};if(t.configFile){const a=await kn(()=>import("./formkit.config.jRRfzt-I.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url);i="default"in a?a.default:a}if(typeof i=="function"&&(i=i()),(r=t.defaultConfig)!==null&&r!==void 0?r:!0){const{defaultConfig:a}=await Promise.resolve().then(function(){return No});i=a(i)}return()=>se(Io,{...n.attrs,config:i},n.slots)},{props:["defaultConfig","configFile"],inheritAttrs:!1}),Ge=fe(function(t,n){const r=Qe(Wt,null),i=a=>se(a,{...n.attrs,...a.props});return r?()=>{var a;return!((a=n.slots)===null||a===void 0)&&a.default?n.slots.default().map(i):null}:rt().suspense?()=>se(xn,t,{default:()=>{var a;return!((a=n.slots)===null||a===void 0)&&a.default?n.slots.default().map(i):null}}):()=>se(vr,null,{...n.slots,default:()=>se(xn,{...n.attrs,...t},n.slots)})},{props:["defaultConfig","configFile"],inheritAttrs:!1}),Co=function(t){t.ledger.count("blocking",c=>c.blocking);const n=D(!t.ledger.value("blocking"));t.ledger.count("errors",c=>c.type==="error");const r=D(!!t.ledger.value("errors"));let i=!1;wr(()=>{i=!0});const s=je(t.store.reduce((c,v)=>(v.visible&&(c[v.key]=v),c),{})),a=D(t.props.validationVisibility||(t.props.type==="checkbox"?"dirty":"blur"));t.on("prop:validationVisibility",({payload:c})=>{a.value=c});const o=D(a.value==="live"),f=D(!1),_=c=>{f.value=(c??[]).some(v=>v.name==="required")};_(t.props.parsedRules),t.on("prop:parsedRules",({payload:c})=>_(c));const g=D(t.children.map(c=>c.uid)),S=xe(()=>{if(!$.state)return!1;if($.state.submitted)return!0;if(!o.value&&!$.state.settled)return!1;switch(a.value){case"live":return!0;case"blur":return $.state.blurred;case"dirty":return $.state.dirty;default:return!1}}),C=xe(()=>$&&w.value?n.value&&!r.value:$.state.dirty&&!Y($.value)),w=D(Array.isArray(t.props.parsedRules)&&t.props.parsedRules.length>0);t.on("prop:parsedRules",({payload:c})=>{w.value=Array.isArray(c)&&c.length>0});const x=xe(()=>{const c={};for(const v in s){const A=s[v];(A.type!=="validation"||S.value)&&(c[v]=A)}return c}),l=je(t.store.reduce((c,v)=>(v.type==="ui"&&v.visible&&(c[v.key]=v),c),{})),p=je({}),d=new Proxy(p,{get(...c){const[v,A]=c;let E=Reflect.get(...c);return!E&&typeof A=="string"&&!O(v,A)&&!A.startsWith("__v")&&ze(t).watch(j=>{const T=typeof j.config.rootClasses=="function"?j.config.rootClasses(A,j):{},H=j.config.classes?tt(A,j,j.config.classes[A]):{},me=tt(A,j,j.props[`_${A}Class`]),te=tt(A,j,j.props[`${A}Class`]);E=ds(j,A,T,H,me,te),v[A]=E??""}),E}});t.on("prop:rootClasses",()=>{const c=Object.keys(p);for(const v of c)delete p[v]});const y=xe(()=>{const c=[];$.help&&c.push(`help-${t.props.id}`);for(const v in x.value)c.push(`${t.props.id}-${v}`);return c.length?c.join(" "):void 0}),k=D(t.value),h=D(t.value),$=je({_value:h,attrs:t.props.attrs,disabled:t.props.disabled,describedBy:y,fns:{length:c=>Object.keys(c).length,number:c=>Number(c),string:c=>String(c),json:c=>JSON.stringify(c),eq:W},handlers:{blur:c=>{t&&(t.store.set(ee({key:"blurred",visible:!1,value:!0})),typeof t.props.attrs.onBlur=="function"&&t.props.attrs.onBlur(c))},touch:()=>{var c;const v=$.dirtyBehavior==="compare";if(!((c=t.store.dirty)===null||c===void 0)&&c.value&&!v)return;const A=!W(t.props._init,t._value);!A&&!v||t.store.set(ee({key:"dirty",visible:!1,value:A}))},DOMInput:c=>{t.input(c.target.value),t.emit("dom-input-event",c)}},help:t.props.help,id:t.props.id,items:g,label:t.props.label,messages:x,node:Rt(t),options:t.props.options,defaultMessagePlacement:!0,slots:t.props.__slots,state:{blurred:!1,complete:C,dirty:!1,empty:Y(k),submitted:!1,settled:t.isSettled,valid:n,errors:r,rules:w,validationVisible:S,required:f},type:t.props.type,family:t.props.family,ui:l,value:k,classes:d});t.on("created",()=>{W($.value,t.value)||(h.value=t.value,k.value=t.value,Ze(k),Ze(h)),(async()=>(await t.settled,t&&(t.props._init=J(t.value))))()}),t.on("settled",({payload:c})=>{$.state.settled=c});function u(c){c.forEach(v=>{v=Se(v),O($,v)||($[v]=t.props[v]),t.on(`prop:${v}`,({payload:A})=>{$[v]=A})})}u((()=>{const c=["__root","help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],v=/^[a-zA-Z-]+(?:-icon|Icon)$/,A=Object.keys(t.props).filter(E=>v.test(E));return c.concat(A)})());function I(c){c.props&&u(c.props)}t.props.definition&&I(t.props.definition),t.on("added-props",({payload:c})=>u(c)),t.on("input",({payload:c})=>{t.type!=="input"&&!Ie(c)&&!Ut(c)?h.value=xt(c):(h.value=c,Ze(h))}),t.on("commitRaw",({payload:c})=>{t.type!=="input"&&!Ie(c)&&!Ut(c)?k.value=h.value=xt(c):(k.value=h.value=c,Ze(k)),t.emit("modelUpdated")}),t.on("commit",({payload:c})=>{(!$.state.dirty||$.dirtyBehavior==="compare")&&t.isCreated&&i&&$.handlers.touch(),C&&t.type==="input"&&r.value&&!Q(t.props.preserveErrors)&&t.store.filter(v=>{var A;return!(v.type==="error"&&((A=v.meta)===null||A===void 0?void 0:A.autoClear)===!0)}),t.type==="list"&&t.sync&&(g.value=t.children.map(v=>v.uid)),$.state.empty=Y(c)});const R=async c=>{c.type==="ui"&&c.visible&&!c.meta.showAsMessage?l[c.key]=c:c.visible?s[c.key]=c:c.type==="state"&&($.state[c.key]=!!c.value)};t.on("message-added",c=>R(c.payload)),t.on("message-updated",c=>R(c.payload)),t.on("message-removed",({payload:c})=>{delete l[c.key],delete s[c.key],delete $.state[c.key]}),t.on("settled:blocking",()=>{n.value=!0}),t.on("unsettled:blocking",()=>{n.value=!1}),t.on("settled:errors",()=>{r.value=!1}),t.on("unsettled:errors",()=>{r.value=!0}),qe(S,c=>{c&&(o.value=!0)}),t.context=$,t.emit("context",t,!1),t.on("destroyed",()=>{t.context=void 0,t=null})},Eo=(e={})=>{co();const{rules:t={},locales:n={},inputs:r={},messages:i={},locale:s=void 0,theme:a=void 0,iconLoaderUrl:o=void 0,iconLoader:f=void 0,icons:_={},...g}=e,S=Fa({...Ma,...t||{}}),C=Xa(ve({en:Qa,...n||{}},i)),w=ms(ra,r),x=no(a,_,o,f);return ve({plugins:[w,x,Co,C,S],...s?{config:{locale:s}}:{}},g||{},!0)};var No=Object.freeze({__proto__:null,defaultConfig:Eo});const Ro=P("h3",{class:"text-2xl font-bold mb-4"}," NHS Referral Form ",-1),Mo={class:"bg-navy-300/10 rounded p-4 mb-8 mt-2 max-w-md flex items-start gap-2"},Fo=P("p",{class:"text-sm mb-2"},[ge(" For our "),P("strong",null,"Bedale practice"),ge(", NHS referrals are managed through a centralised referral system. Please follow the link below to register: ")],-1),To=P("h3",{class:"text-2xl font-bold mb-4"}," Your Practice ",-1),jo={class:"grid md:grid-cols-2 gap-x-8 max-w-3xl"},Do={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},Vo={class:"grid md:grid-cols-2 gap-x-8 max-w-3xl"},qo={__name:"practiceInfo",setup(e){return(t,n)=>{const r=_e,i=Sn,s=kr;return G(),Ke(L(Ge),{"config-file":"true"},{default:K(()=>[P("div",null,[Ro,b(r,{label:"Refer to:",name:"practice",validation:"required",type:"select",options:["Newcastle","Gateshead","North Tyneside","Ashington"]}),P("div",Mo,[b(i,{name:"mdi:info",class:"text-primary w-8 h-8 shrink-0"}),P("div",null,[Fo,b(s,{to:"https://dental-referrals.org/dentists/signup/",class:"inline-flex items-center justify-center px-2 py-1 border border-transparent text-sm font-medium rounded-full text-white bg-primary-600 hover:bg-primary-500"},{default:K(()=>[ge(" DentalReferrals.org ")]),_:1})])]),To,P("div",jo,[b(r,{type:"date",label:"Today's Date",name:"todaysDate","prefix-icon":"calendar",validation:"required",value:new Date().toISOString().substr(0,10)},null,8,["value"]),b(r,{type:"date",label:"Date of Decision to Refer",name:"dateOfDecisionToRefer","prefix-icon":"calendar",validation:"required",value:new Date().toISOString().substr(0,10)},null,8,["value"]),b(r,{type:"text",label:"Referring GDP name",name:"referringGdpName",validation:"required"}),b(r,{type:"text",label:"GDC Number",name:"gdcNumber",validation:"required"}),b(r,{type:"text",label:"Referring GDP signature",name:"referringGdpSignature",validation:"required"}),b(r,{type:"email",label:"Email address",name:"nhsEmailAddress",validation:"email|required",help:"NHS.net email address where available, or your practice email."})]),P("div",Do,[b(r,{type:"textarea",label:"Practice Address",name:"practiceAddress",validation:"required"})]),P("div",Vo,[b(r,{type:"text",label:"Postcode",name:"practicePostcode",validation:"required"}),b(r,{type:"text",label:"Telephone Number",name:"practiceTelephoneNumber",validation:"required"})])])]),_:1})}}},Lo=qo,Ho=P("h3",{class:"text-2xl font-bold mb-4"}," Patient Information ",-1),zo={class:"grid md:grid-cols-3 gap-x-8 max-w-3xl"},Ko={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},Wo={class:"grid md:grid-cols-2 gap-x-8 max-w-3xl"},Uo={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},Bo=fe({__name:"patientInfo",setup(e){const t=D(""),n=xe(()=>{if(!t.value)return"-";const r=new Date,i=new Date(t.value);let s=r.getFullYear()-i.getFullYear();const a=r.getMonth()-i.getMonth();return(a<0||a===0&&r.getDate()<i.getDate())&&s--,s<0||Number.isNaN(s)?"-":s});return(r,i)=>{const s=_e;return G(),Ke(L(Ge),{"config-file":"true"},{default:K(()=>[P("div",null,[Ho,P("div",zo,[b(s,{type:"text",label:"Title",name:"patientTitle",validation:"required"}),b(s,{type:"text",label:"First Name",name:"patientFirstName",validation:"required"}),b(s,{type:"text",label:"Last Name",name:"patientLastName",validation:"required"}),b(s,{modelValue:L(t),"onUpdate:modelValue":i[0]||(i[0]=a=>Ie(t)?t.value=a:null),type:"date",label:"Date of Birth",name:"patientDateOfBirth","prefix-icon":"calendar",validation:"required"},null,8,["modelValue"]),b(s,{modelValue:L(n),"onUpdate:modelValue":i[1]||(i[1]=a=>Ie(n)?n.value=a:null),type:"number",label:"Age",name:"patientAge",validation:"required",readonly:"",help:"Automatically calculated from the date of birth."},null,8,["modelValue"]),b(s,{label:"Gender",name:"patientGender",validation:"required",type:"select",options:["Male","Female","Non-binary","Prefer not to say"]})]),P("div",Ko,[b(s,{type:"textarea",label:"Patient Address",name:"patientAddress",validation:"required"})]),P("div",Wo,[b(s,{type:"text",label:"Postcode",name:"patientPostcode",validation:"required"}),b(s,{type:"text",label:"Telephone Number",name:"patientTelephoneNumber",validation:"required"}),b(s,{type:"text",label:"NHS Number",name:"nhsNumber",validation:"required"}),b(s,{type:"email",label:"Email Address",name:"patientEmailAddress",validation:"email",help:"*Most correspondence will be sent direct to the patient via email."}),b(s,{type:"textarea",label:"Social/Medical History (including carer)",name:"medicalHistory",validation:"required"}),b(s,{type:"textarea",label:"Current oral health and relevant dental history",name:"oralHealth",validation:"required"})]),P("div",Uo,[b(s,{type:"checkbox",label:"Prevention has been provided in accordance with Delivering Better Oral Health Toolkit",name:"deliveringBetterOralHealthToolkit",value:!1,validation:"accepted","validation-messages":{accepted:"Must be accepted"}}),b(s,{type:"checkbox",label:"Bitewing radiographs taken as appropriate & treatment planned/completed",name:"bitewingRadiographsTaken",value:!1,validation:"accepted","validation-messages":{accepted:"Must be accepted"}})])])]),_:1})}}}),Go=P("h3",{class:"text-2xl font-bold mb-4"}," Pre-referral Checklist ",-1),Yo={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},Zo=P("p",{class:"text-sm text-gray-700"}," Patients over the age of 18 can be referred to Secondary care for an opinion on multidisciplinary management ",-1),Jo=P("p",{class:"text-sm text-gray-700"}," If unable to tick the above box, consider if suitable for referral for advice/early management only, or if more appropriate to delay referral until dental health assured or further dental development has occurred ",-1),Qo=P("hr",{class:"mb-8 mt-4 border-navy-300/30"},null,-1),Xo=P("h3",{class:"text-2xl font-bold mb-4"}," Advice only / Early treatment ",-1),el={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},tl={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},nl=P("hr",{class:"mb-8 mt-4 border-navy-300/30"},null,-1),rl=P("h3",{class:"text-2xl font-bold mb-4"}," Referring for comprehensive orthodontic treatment? ",-1),il={class:"grid md:grid-cols-1 gap-x-8 max-w-3xl"},sl=fe({__name:"checklist",setup(e){const t=D(!1);return(n,r)=>{const i=_e;return G(),Ke(L(Ge),{"config-file":"true"},{default:K(()=>[P("div",null,[Go,P("div",Yo,[b(i,{type:"checkbox",label:"Patient is under 18 years old on the date of referral",name:"patientIsUnder18",value:!1}),Zo,b(i,{type:"checkbox",label:"Relevant are radiographs avaialble e.g. DPT (See Patient Photos stage)",name:"relevantRadiographsEnclosed",value:!1}),b(i,{type:"checkbox",label:"Patient has stable Oral Health and Oral Hygiene suitable for Orthodontic Treatment",name:"stableOralHealthAndOralHygiene",value:!1,validation:"accepted","validation-messages":{accepted:"Must be accepted"}}),b(i,{type:"checkbox",label:"Patient is in or close to the Permanent Dentition",name:"permanentDentition",value:!1}),Jo,b(i,{type:"checkbox",label:"Patient has not had a previous course of comprehensive NHS Orthodontic Treatment",name:"noPreviousNhsOrthodontics",value:!1,validation:"accepted","validation-messages":{accepted:"Must be accepted"}})]),Qo,Xo,P("div",el,[b(i,{modelValue:L(t),"onUpdate:modelValue":r[0]||(r[0]=s=>Ie(t)?t.value=s:null),type:"checkbox",label:"Referring for advice only/early treatment?",name:"adviceOnly"},null,8,["modelValue"])]),Pr(P("div",tl,[b(i,{type:"checkbox",label:"Trauma risk (Increased overjet with lip trap/incompetent lips)",name:"earlyAdviceTraumaRisk",value:!1}),b(i,{type:"checkbox",label:"Disturbed / abnormal eruption sequence / Supernumerary teeth",name:"earlyAdviceDisturbedAbnormalEruption",value:!1}),b(i,{type:"checkbox",label:"Advice regarding interceptive extractions (e.g. first molars of poor prognosis)",name:"earlyAdviceInterceptiveExtractions",value:!1}),b(i,{type:"checkbox",label:"Anterior or posterior crossbite with displacement",name:"earlyAdviceCrossbite",value:!1}),b(i,{type:"checkbox",label:"Impacted teeth including submerging deciduous molars (or permanent canines not palpable at age 10)",name:"earlyAdviceImpactedTeeth",value:!1}),b(i,{type:"textarea",label:"Other",name:"earlyAdviceOther"})],512),[[Sr,L(t)]]),nl,rl,P("div",il,[b(i,{type:"checkbox",label:"Patient is motivated to undergo Orthodontic Treatment",name:"motivatedToUndergoOrthodonticTreatment",value:!1}),b(i,{type:"checkbox",label:"Patient/Parent understand responsibilities including attending regular appointments",name:"understandResponsibilities",value:!1}),b(i,{type:"checkbox",label:"Patient/Parent understand final eligibility will be determined by the Orthodontist",name:"understandFinalEligibility",value:!1}),b(i,{type:"textarea",label:"Patients main concern/orthodontic concern:",name:"patientsMainConcern"})])])]),_:1})}}}),al=P("h3",{class:"text-2xl font-bold mb-4"}," IOTN  Complete for all referrals ",-1),ol={class:"max-w-3xl"},ll={class:"mb-8 text-sm"},ul=fe({__name:"Iotn",setup(e){return D(!1),(t,n)=>{const r=Sn,i=_e;return G(),Ke(L(Ge),{"config-file":"true"},{default:K(()=>[P("div",null,[al,P("div",ol,[P("p",ll,[b(r,{name:"mdi:asterisk",class:"inline-block text-primary-500 w-6 h-6"}),ge(" Please note IOTN below 3, or 3 with an aesthetic component of <6, would not meet the eligibility threshold for NHS Orthodontic Treatment. ")]),b(i,{type:"radio",label:"Unerupted and Impacted/Ectopic Teeth",name:"IotnUneruptedAndImpactedEctopicTeeth",options:["n/a","IOTN 5"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}}),b(i,{type:"radio",label:"Hypodontia, in any one quadrant (not 8's)",name:"IotnHypodontia",options:["n/a","IOTN 5 (>1 tooth missing)","IOTN 4 (Only 1 tooth missing)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",name:"IotnOverjet",label:"Overjet",options:["n/a","IOTN 5 (>9mm)","IOTN 4 (>6mm but <=9mm)","IOTN 3 (3.5mm but <=6mm with incompetent lips)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",label:"Reverse overjet (-)",name:"IotnReverseOverjet",options:["n/a","IOTN 5 (>3.5mm)","IOTN 4 (1mm but <3.5mm Masticatory/Speech problems)","IOTN 3 (1mm but <3.5mm No Masticatory/Speech problems)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",label:"Anterior or posterior buccal Crossbites",name:"IotnAnteriorOrPosteriorBuccalCrossbites",options:["n/a","IOTN 4 (2mm slide From RCP to ICP)","IOTN 3 (1mm but<2mm slide From RCP to ICP)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",label:"Lingual crossbite",name:"IotnLingualCrossbite",options:["n/a","IOTN 4 (No occlusal contact in 1 or both buccal segments)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",label:"Contact point displacements between teeth",name:"IotnContactPointDisplacementsBetweenTeeth",options:["n/a","IOTN 4 (> 4mm)","IOTN 3 (> 2mm but <4mm)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",label:"Anterior open bite (AOB)",name:"IotnAnteriorOpenBite",options:["n/a","IOTN 4 (AOB > 4mm)","IOTN 3 (AOB > 2mm but <4mm)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"radio",label:"Increased and complete Overbite",name:"IotnIncreasedAndCompleteOverbite",options:["n/a","IOTN 4 (with gingival/palatal trauma)","IOTN 3 (without gingival/palatal trauma)"],validation:"required",value:"n/a","validation-messages":{accepted:"Please select an option"}},null,8,["options"]),b(i,{type:"textarea",label:"Alternatively, please provide IOTN (DHC) Score:",name:"iotnScore",help:"Include Aesthetic Component if IOTN category 3 or below (full guide in BOS Easy IOTN App)"})])])]),_:1})}}}),cl=Fr(()=>kn(()=>import("./List1.K9GTrQ9X.js"),__vite__mapDeps([10,1,2,11,12]),import.meta.url).then(e=>e.default||e)),fl=Tr("FeaturesLogoWall"),pl={key:0},dl={class:"relative overflow-hidden isolate bg-gradient-to-t from-gray-200 to-gray-100"},ml=P("div",{class:"absolute opacity-50 overflow-hidden h-full w-full left-[calc(50%-4rem)] bottom-0 -z-10 transform-gpu blur-3xl sm:left-[calc(50%-18rem)] lg:left-48 xl:left-[calc(50%-24rem)]","aria-hidden":"true"},[P("div",{class:"absolute aspect-[16/9] w-3/4 right-0 bg-gradient-to-tr from-indigo-200 to-indigo-400 opacity-80",style:{"clip-path":"polygon(82.83% 76.49%, 95.45% 0.91%, 97.92% 45.99%, 38.79% 49.22%, 87.93% 92.88%, 64.67% 100%, 14.18% 37.57%, 3.14% 74.18%, 24.12% 57.53%, 40.1% 96.37%, 48.92% 45.99%, 36.89% 0.91%, 64.67% 18.06%)"}}),P("div",{class:"absolute aspect-[16/9] w-3/4 bg-gradient-to-tr from-primary-200 to-primary-400 opacity-30",style:{"clip-path":"polygon(34.4% 2.15%, 60.01% 17.08%, 60.01% 46.72%, 94.48% 16.49%, 76.3% 47.72%, 52.42% 88.75%, 7.48% 96.42%, 2.6% 67.83%, 86.09% 98.74%, 96.68% 72.76%, 96.68% 54.04%, 65.24% 58.4%, 38.17% 68.23%, 7.48% 47.07%, 46.61% 47.07%)"}}),P("div",{class:"absolute aspect-[3/1] w-full bottom-0 bg-gradient-to-tr from-rose-400 to-rose-500 opacity-20",style:{"clip-path":"polygon(87.69% 78.35%, 14.64% 18.61%, 30.52% 12.84%, 87.69% 76.48%, 64.67% 100%, 4.43% 67.61%, 18.78% 100%, 57.38% 3.09%, 38.64% 100%, 71.25% 84.37%, 14.64% 53.16%)"}})],-1),hl={class:"overflow-hidden"},gl={class:"mx-auto max-w-8xl px-4 pb-8 pt-8 lg:px-12"},vl={class:"w-full max-w-xl lg:shrink-0 xl:max-w-xl"},yl=P("h1",{class:"highlight relative text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl"}," NHS Referrals ",-1),bl=P("p",{class:"relative mt-6 text-lg leading-8 text-gray-700 sm:max-w-md lg:max-w-none"}," All our practices are NHS registered and we welcome NHS referrals. ",-1),_l=P("p",{class:"relative text-lg leading-8 text-gray-700 sm:max-w-md lg:max-w-none"}," Please note, this form is for Dental Professionals only. If you are a patient, please contact your dentist to discuss a referral. ",-1),$l={class:"uploads border border-navy-300/30 rounded-xl p-6 mb-12 bg-gray-900/5"},wl={class:""},xl={key:0,class:"text-xs"},kl={key:0},Sl={role:"list",class:"list-none ml-0 grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-4 sm:gap-x-6 lg:grid-cols-6 xl:grid-cols-8 xl:gap-x-8"},Pl=P("div",{class:"loading group aspect-h-7 aspect-w-10 block w-full overflow-hidden rounded-lg bg-gray-10"},[P("div",{class:"animate-pulse bg-gray-300 w-full h-full"})],-1),Al=[Pl],Ol=P("div",{class:"mb-8"},[P("p",null," Please check all details are correct and no red errors are showing before submitting. ")],-1),Il={class:"bg-gradient-to-bl from-gray-50 to-white border-t border-gray-200/50"},Cl={class:"max-w-8xl mx-auto pt-16 px-4 lg:px-12"},El={class:"bg-gradient-to-bl from-gray-50 to-white"},Nl={class:"max-w-8xl mx-auto py-16 px-4 lg:px-12"},Rl=fe({__name:"nhs-referral",async setup(e){let t,n;const r=Ar(),i=Or`*[_type == "pages" && slug.current == 'contact'][0]`,{data:s,error:a}=([t,n]=Ir(()=>Er(i)),t=await t,n(),t);if(a.value)throw console.error(a),Cr({statusCode:404,statusMessage:"Page Not Found"});const o=D([]),f=D(!0),_=D(0),g=async l=>{_.value=l.length,f.value=!0;const p=new FormData;p.append("secret","secret-squirrel");for(const y of l)p.append("images",y);const d=await $fetch("/api/forms/image",{method:"POST",body:p});o.value=[...o.value,d].flat(Number.POSITIVE_INFINITY),f.value=!1},S=l=>{o.value=o.value.filter(p=>p!==l)},C=D(!1),w=D(""),x=async l=>{var d,y;C.value=!0;const p=qr();if(l.website!==void 0){w.value="Bot test failed! If you're human you shouldn't see this... Please try again.",C.value=!1;return}l.formSecret="secret-squirrel",l.id=p,l.files=o.value,l.replyToEmail=((y=(d=l.nhsReferralForm)==null?void 0:d.practice)==null?void 0:y.nhsEmailAddress)??null,console.log("values"),console.log(l);try{console.log("VALID SUBMIT");const k=await $fetch("/api/forms/referral",{method:"POST",body:l});if(console.log("submitting..."),console.log(k),k.statusCode!==200)throw new Error("Something went wrong, please try again");C.value=!1,w.value="",r.push("/thank-you/nhs-referral")}catch{C.value=!1,w.value="Something went wrong please try again"}};return(l,p)=>{const d=Rr,y=jr,k=Lo,h=_e,$=Bo,u=sl,m=ul,I=Mr,R=Dr,c=Vr,v=cl,A=fl;return G(),Ke(L(Ge),{"config-file":"true"},{default:K(()=>[L(s)?(G(),he("div",pl,[b(d,{title:"NHS Referrals",description:"All our practices are NHS registered and we welcome NHS referrals."}),P("div",null,[P("div",dl,[ml,P("div",hl,[P("div",gl,[P("div",vl,[b(y,{light:"",class:"mb-4"}),yl,bl,_l]),b(h,{type:"form","submit-label":"Submit Referral",actions:!1,onSubmit:x,onSubmitInvalid:l.showErrors},{default:K(()=>[b(h,{type:"multi-step",name:"nhsReferralForm","allow-incomplete":!0,"tab-style":"progress",class:"w-full"},{default:K(()=>[b(h,{type:"step",name:"practice"},{default:K(()=>[b(k)]),_:1}),b(h,{type:"step",name:"patient"},{default:K(()=>[b($)]),_:1}),b(h,{type:"step",name:"checklist"},{default:K(()=>[b(u)]),_:1}),b(h,{type:"step",name:"iotn",label:"IOTN"},{default:K(()=>[b(m)]),_:1}),b(h,{type:"step",name:"patientPhotos"},{default:K(()=>{var E;return[P("div",$l,[P("div",wl,[b(I,{text:"Image Uploads",class:"mb-4"}),b(R,{class:"drop-area",onFilesDropped:g}),L(o).length?(G(),he("p",xl,[ge(Nr(L(o).length)+" file",1),L(o).length>1?(G(),he("span",kl,"s")):Te("",!0),ge(" uploaded. ")])):Te("",!0),P("ul",Sl,[(E=L(o))!=null&&E.length?(G(!0),he(Bt,{key:0},Gt(L(o),(V,j)=>(G(),he("li",{key:`file-${j}`,class:"relative"},[b(c,{file:V,onRemove:S},null,8,["file"])]))),128)):Te("",!0),L(f)?(G(!0),he(Bt,{key:1},Gt(L(_),V=>(G(),he("li",{key:`uploading-${V}`,class:"relative"},Al))),128)):Te("",!0)])])])]}),_:1}),b(h,{type:"step",name:"complete"},{stepNext:K(()=>[b(h,{type:"submit",label:"Submit Referral"})]),default:K(()=>[Ol]),_:1})]),_:1})]),_:1},8,["onSubmitInvalid"])])])])]),P("div",Il,[P("section",Cl,[b(v)])]),P("div",El,[P("section",Nl,[b(A)])])])):Te("",!0)]),_:1})}}}),Ll=Object.freeze(Object.defineProperty({__proto__:null,default:Rl},Symbol.toStringTag,{value:"Module"}));export{Ae as $,Ll as A,It as a,at as b,ee as c,Pe as d,W as e,B as f,Ee as g,q as h,wt as i,We as j,De as k,nt as l,At as m,Ln as n,Lt as o,Ot as p,Be as q,ae as r,zt as s,N as t,Q as u,us as v,Dl as w,ql as x,Qa as y,Vl as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./formkit.config.jRRfzt-I.js","./entry.JSmkQhmI.js","./entry.T71u3_uo.css","./Breadcrumb.FOmvxjyK.js","./Preview.vue.wCXsyp1d.js","./Button.yw9LWidk.js","./tw-merge.PUKor_T7.js","./select.y9GlhWqW.js","./index.browser.zSPcFHrV.js","./formkit.Blmq-N-p.css","./List1.K9GTrQ9X.js","./TextLink.vue.MOljMdj-.js","./Address.vue.fVZtF4yK.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}