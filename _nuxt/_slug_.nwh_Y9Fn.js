import{d as C,K as L,j as p,k as x,F as j,C as I,v as s,x as n,ay as R,I as T,_ as z,m as F,n as G,L as V,l as W,a as Y,o as J,f as O,s as e,A as f,B as K,D as k,z as Q,q as H,O as X,W as Z,y as tt,R as et,S as st,G as ot,J as at}from"./entry.JSmkQhmI.js";import{_ as nt}from"./Breadcrumb.FOmvxjyK.js";import{_ as rt}from"./nuxt-picture.J5iC6KY6.js";import{_ as it}from"./ProfileAuthor.vue.NpRMRk_G.js";import{_ as lt}from"./SanityContentWrapper.vue.g3bpwIlS.js";const ct={class:"social-share-block flex gap-4"},ut=["href"],_t=C({__name:"Share",props:{title:{type:String,required:!0}},setup(h){const u=h,l=R(),_=L(),a=[{name:"facebook",icon:"mdi:facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${l.public.siteUrl}${_.fullPath}`},{name:"twitter",icon:"mdi:twitter",url:`https://twitter.com/intent/tweet?url=${l.public.siteUrl}${_.fullPath}`},{name:"linkedin",icon:"mdi:linkedin",url:`https://www.linkedin.com/shareArticle?mini=true&url=${l.public.siteUrl}${_.fullPath}`},{name:"whatsapp",icon:"mdi:whatsapp",url:`https://api.whatsapp.com/send?text=${l.public.siteUrl}${_.fullPath}`},{name:"email",icon:"mdi:email",url:`mailto:?subject=${u.title}&body=${l.public.siteUrl}${_.fullPath}`}];return(r,t)=>{const i=T;return p(),x("div",ct,[(p(),x(j,null,I(a,o=>s("div",{key:o.name},[s("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",class:"hover:text-primary-300 text-gray-400"},[n(i,{name:o.icon,path:o.icon,class:"h-5 w-5"},null,8,["name","path"])],8,ut)])),64))])}}}),mt=z(_t,[["__scopeId","data-v-afe1e8f8"]]);function dt(){return{dateStr:a=>new Date(a).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),dateStrLong:a=>new Date(a).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),timeAgo:a=>{const r=a.split("-");if(r.length!==3)return"Invalid date format";const t=Number.parseInt(r[0]),i=Number.parseInt(r[1])-1,o=Number.parseInt(r[2]),v=new Date(t,i,o),m=new Date().getTime()-v.getTime(),$=Math.floor(m/1e3),y=Math.floor($/60),S=Math.floor(y/60),d=Math.floor(S/24),b=Math.floor(d/7),g=Math.floor(d/30),w=Math.floor(g/12);return w>0?w===1?"1 year ago":`${w} years ago`:g>0?g===1?"1 month ago":`${g} months ago`:b>0?b===1?"1 week ago":`${b} weeks ago`:d>0?d===1?"1 day ago":`${d} days ago`:"Just now"},readingTime:a=>{let t=0;return a.forEach(i=>{i._type==="block"&&i.children&&i.children.forEach(o=>{o._type==="span"&&(t+=o.text.split(" ").length)})}),Math.ceil(t/240)}}}const pt=et(()=>st(()=>import("./Featured.pL6BSQel.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(h=>h.default||h)),ht={key:0,role:"main"},gt={class:"bg-gray-50"},ft={class:"mx-auto max-w-8xl px-4 lg:px-12 py-16"},xt={class:"text-gray-700"},yt={class:"text-5xl font-bold mb-8 max-w-5xl"},bt={class:"lg:flex lg:gap-16 justify-between"},wt={class:"w-full"},vt={class:"article-img max-w-5xl rounded-2xl overflow-hidden"},$t={class:"max-w-4xl text-gray-700"},kt={class:"mx-auto max-w-2xl"},At={class:"author border-b border-navy-300/20 mb-4"},St={class:"flex flex-col gap-0 mb-6 text-xs"},Dt={class:""},Mt={class:"text-gray-600"},Pt={class:""},Ct={class:"text-gray-400"},Lt={class:"text-3xl mb-4 font-bold"},jt={class:"content"},It={class:"relative max-w-xs"},qt=s("h4",{class:"text-xl font-bold mb-4"}," Read Next ",-1),Bt={class:"text-base lg:text-sm text-navy-500 mt-2 group-hover:text-primary-500 mb-1"},Et={key:0,class:"text-sm md:text-xs text-gray-500 mt-0 line-clamp-2 group-hover:text-primary-400"},Nt={class:"bg-gradient-to-b from-gray-200 to-gray-50 py-12"},Ut={class:"mx-auto max-w-8xl px-4 lg:px-12"},Vt=C({__name:"[slug]",async setup(h){let u,l;const a=L().params.slug,r=F`*[_type == "articles" && type == "Resource" && slug.current == "${a}"][0]{
    ...,
    author->{
      name,
      slug,
      qualifications,
      job,
      image,
    },
    related[]->{
      slug,
      title,
      image,
      alt,
      subtitle,
      _type,
    },
  }`,{data:t,error:i}=([u,l]=G(()=>H(r)),u=await u,l(),u);if(i.value)throw console.error(i),V({statusCode:404,statusMessage:"Page Not Found"});const{urlFor:o}=W(),{dateStrLong:v,readingTime:A}=dt(),m=Y(!1);J(()=>{window.addEventListener("scroll",()=>{window.scrollY>900?m.value=!0:m.value=!1})}),O(()=>{window.removeEventListener("scroll",()=>{window.scrollY>800?m.value=!0:m.value=!1})});const $=y=>y==="practices"?"practices":y==="treatments"?"treatments":"resources";return(y,S)=>{var M,P;const d=X,b=nt,g=rt,w=it,D=mt,q=lt,B=ot,E=at,N=pt,U=Z;return e(t)?(p(),x("main",ht,[n(d,{title:e(t).title,description:e(t).subtitle,"image-url":(P=(M=e(t).image)==null?void 0:M.asset)!=null&&P._ref?e(o)(e(t).image.asset._ref).width(800).height(600).url():""},null,8,["title","description","image-url"]),s("div",gt,[s("div",ft,[n(b,{light:"",class:"mb-8 capitalize"}),s("article",xt,[s("h1",yt,f(e(t).title),1),s("div",bt,[s("div",wt,[s("div",vt,[n(g,{src:e(o)(e(t).image).width(896).height(400).url(),alt:e(t).alt,width:"896",height:"400",sizes:"xs:95vw sm:95vw md:95vw lg:896px","img-attrs":{class:"w-full h-full object-cover object-center"}},null,8,["src","alt"])]),s("div",$t,[s("div",kt,[s("div",At,[e(t).author?(p(),K(w,{key:0,name:e(t).author.name,slug:e(t).author.slug,qualifications:e(t).author.qualifications??"",job:e(t).author.job,image:e(t).author.image,class:"pb-4"},null,8,["name","slug","qualifications","job","image"])):k("",!0)]),n(D,{title:e(t).title,class:"mb-6"},null,8,["title"]),s("div",St,[s("div",Dt,[s("span",Mt,f(e(v)(e(t)._createdAt)),1)]),s("div",Pt,[s("span",Ct,f(e(A)(e(t).body))+" min read ",1)])]),s("h2",Lt,f(e(t).subtitle),1),s("div",jt,[n(q,{blocks:e(t).body},null,8,["blocks"])]),n(D,{title:e(t).title,class:"mt-8"},null,8,["title"])])])]),s("div",It,[s("div",{class:Q(["lg:sticky lg:top-[102px] lg:ml-24 lG:border-t border-navy-300/20 pt-8 transition duration-500 ease-in-out",e(m)?"lg:transform lg:-translate-y-[112px]":""])},[qt,(p(!0),x(j,null,I(e(t).related,c=>(p(),x("div",{key:c._id,class:"mb-8"},[n(E,{to:`/${$(c._type)}/${c.slug.current}`,class:"group"},{default:tt(()=>[n(B,{src:e(o)(c.image).width(300).height(150).url(),alt:c.alt,width:"300",height:"150",class:"rounded-xl group-hover:opacity-80"},null,8,["src","alt"]),s("h5",Bt,f(c.title),1),c.subtitle?(p(),x("p",Et,f(c.subtitle),1)):k("",!0)]),_:2},1032,["to"])]))),128))],2)])])])])]),s("div",Nt,[s("div",Ut,[n(N,{articles:e(t).related,"promoted-article":e(t)},null,8,["articles","promoted-article"])])]),n(U)])):k("",!0)}}});export{Vt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./Featured.pL6BSQel.js","./CardRow.vue.jPhR8u2_.js","./entry.JSmkQhmI.js","./entry.T71u3_uo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}