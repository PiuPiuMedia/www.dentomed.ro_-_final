import{a as L,c as w,e as R,d as z,u as N,p as oe,am as re,an as V,o as M,w as _,h as K,ao as ie,H as W,T as ue,F as se,t as U,ap as de,N as q,f as ce,b as pe,a8 as E,i as fe,aq as I,s as ve,ar as be,as as me,at as ge,a3 as ye,au as he}from"./entry.JSmkQhmI.js";import{o as O}from"./keyboard.-LXsuZ4f.js";import{b as Se}from"./use-resolve-button-type.YhiMAV9N.js";import{w as xe,h as Oe,f as we,a as De,O as Le}from"./hidden.nMxhsxTR.js";import{y as Re}from"./use-outside-click.-ERayOpG.js";function Te(e){throw new Error("Unexpected object: "+e)}var A=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(A||{});function Fe(e,a){let n=a.resolveItems();if(n.length<=0)return null;let o=a.resolveActiveIndex(),t=o??-1,i=(()=>{switch(e.focus){case 0:return n.findIndex(u=>!a.resolveDisabled(u));case 1:{let u=n.slice().reverse().findIndex((v,m,l)=>t!==-1&&l.length-m-1>=t?!1:!a.resolveDisabled(v));return u===-1?u:n.length-1-u}case 2:return n.findIndex((u,v)=>v<=t?!1:!a.resolveDisabled(u));case 3:{let u=n.slice().reverse().findIndex(v=>!a.resolveDisabled(v));return u===-1?u:n.length-1-u}case 4:return n.findIndex(u=>a.resolveId(u)===e.id);case 5:return null;default:Te(e)}})();return i===-1?o:i}function ee(e={},a=null,n=[]){for(let[o,t]of Object.entries(e))ne(n,te(a,o),t);return n}function te(e,a){return e?e+"["+a+"]":a}function ne(e,a,n){if(Array.isArray(n))for(let[o,t]of n.entries())ne(e,te(a,o.toString()),t);else n instanceof Date?e.push([a,n.toISOString()]):typeof n=="boolean"?e.push([a,n?"1":"0"]):typeof n=="string"?e.push([a,n]):typeof n=="number"?e.push([a,`${n}`]):n==null?e.push([a,""]):ee(n,a,e)}function Ae(e,a,n){let o=L(n==null?void 0:n.value),t=w(()=>e.value!==void 0);return[w(()=>t.value?e.value:o.value),function(i){return t.value||(o.value=i),a==null?void 0:a(i)}]}function G(e){return[e.screenX,e.screenY]}function Pe(){let e=L([-1,-1]);return{wasMoved(a){let n=G(a);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(a){e.value=G(a)}}}let Q=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function X(e){var a,n;let o=(a=e.innerText)!=null?a:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return o;let i=!1;for(let v of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))v.remove(),i=!0;let u=i?(n=t.innerText)!=null?n:"":o;return Q.test(u)&&(u=u.replace(Q,"")),u}function Ie(e){let a=e.getAttribute("aria-label");if(typeof a=="string")return a.trim();let n=e.getAttribute("aria-labelledby");if(n){let o=n.split(" ").map(t=>{let i=document.getElementById(t);if(i){let u=i.getAttribute("aria-label");return typeof u=="string"?u.trim():X(i).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return X(e).trim()}function $e(e){let a=L(""),n=L("");return()=>{let o=R(e);if(!o)return"";let t=o.innerText;if(a.value===t)return n.value;let i=Ie(o).trim().toLowerCase();return a.value=t,n.value=i,i}}function Ee(e,a){return e===a}var Ne=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ne||{}),ke=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ke||{}),Ce=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ce||{});function je(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ae=Symbol("ListboxContext");function H(e){let a=fe(ae,null);if(a===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H),n}return a}let it=z({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ee},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:a,attrs:n,emit:o}){let t=L(1),i=L(null),u=L(null),v=L(null),m=L([]),l=L(""),r=L(null),g=L(1);function S(s=d=>d){let d=r.value!==null?m.value[r.value]:null,p=Le(s(m.value.slice()),D=>R(D.dataRef.domRef)),b=d?p.indexOf(d):null;return b===-1&&(b=null),{options:p,activeOptionIndex:b}}let y=w(()=>e.multiple?1:0),[P,T]=Ae(w(()=>e.modelValue),s=>o("update:modelValue",s),w(()=>e.defaultValue)),x=w(()=>P.value===void 0?N(y.value,{1:[],0:void 0}):P.value),c={listboxState:t,value:x,mode:y,compare(s,d){if(typeof e.by=="string"){let p=e.by;return(s==null?void 0:s[p])===(d==null?void 0:d[p])}return e.by(s,d)},orientation:w(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:u,optionsRef:v,disabled:w(()=>e.disabled),options:m,searchQuery:l,activeOptionIndex:r,activationTrigger:g,closeListbox(){e.disabled||t.value!==1&&(t.value=1,r.value=null)},openListbox(){e.disabled||t.value!==0&&(t.value=0)},goToOption(s,d,p){if(e.disabled||t.value===1)return;let b=S(),D=Fe(s===A.Specific?{focus:A.Specific,id:d}:{focus:s},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});l.value="",r.value=D,g.value=p??1,m.value=b.options},search(s){if(e.disabled||t.value===1)return;let d=l.value!==""?0:1;l.value+=s.toLowerCase();let p=(r.value!==null?m.value.slice(r.value+d).concat(m.value.slice(0,r.value+d)):m.value).find(D=>D.dataRef.textValue.startsWith(l.value)&&!D.dataRef.disabled),b=p?m.value.indexOf(p):-1;b===-1||b===r.value||(r.value=b,g.value=1)},clearSearch(){e.disabled||t.value!==1&&l.value!==""&&(l.value="")},registerOption(s,d){let p=S(b=>[...b,{id:s,dataRef:d}]);m.value=p.options,r.value=p.activeOptionIndex},unregisterOption(s){let d=S(p=>{let b=p.findIndex(D=>D.id===s);return b!==-1&&p.splice(b,1),p});m.value=d.options,r.value=d.activeOptionIndex,g.value=1},theirOnChange(s){e.disabled||T(s)},select(s){e.disabled||T(N(y.value,{0:()=>s,1:()=>{let d=I(c.value.value).slice(),p=I(s),b=d.findIndex(D=>c.compare(p,I(D)));return b===-1?d.push(p):d.splice(b,1),d}}))}};Re([u,v],(s,d)=>{var p;c.closeListbox(),xe(d,Oe.Loose)||(s.preventDefault(),(p=R(u))==null||p.focus())},w(()=>t.value===0)),oe(ae,c),re(w(()=>N(t.value,{0:V.Open,1:V.Closed})));let h=w(()=>{var s;return(s=R(u))==null?void 0:s.closest("form")});return M(()=>{_([h],()=>{if(!h.value||e.defaultValue===void 0)return;function s(){c.theirOnChange(e.defaultValue)}return h.value.addEventListener("reset",s),()=>{var d;(d=h.value)==null||d.removeEventListener("reset",s)}},{immediate:!0})}),()=>{let{name:s,modelValue:d,disabled:p,form:b,...D}=e,$={open:t.value===0,disabled:p,value:x.value};return K(se,[...s!=null&&x.value!=null?ee({[s]:x.value}).map(([f,F])=>K(we,ie({features:De.Hidden,key:f,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,name:f,value:F}))):[],W({ourProps:{},theirProps:{...n,...ue(D,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:$,slots:a,attrs:n,name:"Listbox"})])}}}),ut=z({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${U()}`}},setup(e,{attrs:a,slots:n,expose:o}){let t=H("ListboxButton");o({el:t.buttonRef,$el:t.buttonRef});function i(l){switch(l.key){case O.Space:case O.Enter:case O.ArrowDown:l.preventDefault(),t.openListbox(),E(()=>{var r;(r=R(t.optionsRef))==null||r.focus({preventScroll:!0}),t.value.value||t.goToOption(A.First)});break;case O.ArrowUp:l.preventDefault(),t.openListbox(),E(()=>{var r;(r=R(t.optionsRef))==null||r.focus({preventScroll:!0}),t.value.value||t.goToOption(A.Last)});break}}function u(l){switch(l.key){case O.Space:l.preventDefault();break}}function v(l){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),E(()=>{var r;return(r=R(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})})):(l.preventDefault(),t.openListbox(),je(()=>{var r;return(r=R(t.optionsRef))==null?void 0:r.focus({preventScroll:!0})})))}let m=Se(w(()=>({as:e.as,type:a.type})),t.buttonRef);return()=>{var l,r;let g={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{id:S,...y}=e,P={ref:t.buttonRef,id:S,type:m.value,"aria-haspopup":"listbox","aria-controls":(l=R(t.optionsRef))==null?void 0:l.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(r=R(t.labelRef))==null?void 0:r.id,S].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:u,onClick:v};return W({ourProps:P,theirProps:y,slot:g,attrs:a,slots:n,name:"ListboxButton"})}}}),st=z({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${U()}`}},setup(e,{attrs:a,slots:n,expose:o}){let t=H("ListboxOptions"),i=L(null);o({el:t.optionsRef,$el:t.optionsRef});function u(l){switch(i.value&&clearTimeout(i.value),l.key){case O.Space:if(t.searchQuery.value!=="")return l.preventDefault(),l.stopPropagation(),t.search(l.key);case O.Enter:if(l.preventDefault(),l.stopPropagation(),t.activeOptionIndex.value!==null){let r=t.options.value[t.activeOptionIndex.value];t.select(r.dataRef.value)}t.mode.value===0&&(t.closeListbox(),E(()=>{var r;return(r=R(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})}));break;case N(t.orientation.value,{vertical:O.ArrowDown,horizontal:O.ArrowRight}):return l.preventDefault(),l.stopPropagation(),t.goToOption(A.Next);case N(t.orientation.value,{vertical:O.ArrowUp,horizontal:O.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),t.goToOption(A.Previous);case O.Home:case O.PageUp:return l.preventDefault(),l.stopPropagation(),t.goToOption(A.First);case O.End:case O.PageDown:return l.preventDefault(),l.stopPropagation(),t.goToOption(A.Last);case O.Escape:l.preventDefault(),l.stopPropagation(),t.closeListbox(),E(()=>{var r;return(r=R(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})});break;case O.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(t.search(l.key),i.value=setTimeout(()=>t.clearSearch(),350));break}}let v=de(),m=w(()=>v!==null?(v.value&V.Open)===V.Open:t.listboxState.value===0);return()=>{var l,r,g,S;let y={open:t.listboxState.value===0},{id:P,...T}=e,x={"aria-activedescendant":t.activeOptionIndex.value===null||(l=t.options.value[t.activeOptionIndex.value])==null?void 0:l.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(S=(r=R(t.labelRef))==null?void 0:r.id)!=null?S:(g=R(t.buttonRef))==null?void 0:g.id,"aria-orientation":t.orientation.value,id:P,onKeydown:u,role:"listbox",tabIndex:0,ref:t.optionsRef};return W({ourProps:x,theirProps:T,slot:y,attrs:a,slots:n,features:q.RenderStrategy|q.Static,visible:m.value,name:"ListboxOptions"})}}}),dt=z({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${U()}`}},setup(e,{slots:a,attrs:n,expose:o}){let t=H("ListboxOption"),i=L(null);o({el:i,$el:i});let u=w(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===e.id:!1),v=w(()=>N(t.mode.value,{0:()=>t.compare(I(t.value.value),I(e.value)),1:()=>I(t.value.value).some(c=>t.compare(I(c),I(e.value)))})),m=w(()=>N(t.mode.value,{1:()=>{var c;let h=I(t.value.value);return((c=t.options.value.find(s=>h.some(d=>t.compare(I(d),I(s.dataRef.value)))))==null?void 0:c.id)===e.id},0:()=>v.value})),l=$e(i),r=w(()=>({disabled:e.disabled,value:e.value,get textValue(){return l()},domRef:i}));M(()=>t.registerOption(e.id,r)),ce(()=>t.unregisterOption(e.id)),M(()=>{_([t.listboxState,v],()=>{t.listboxState.value===0&&v.value&&N(t.mode.value,{1:()=>{m.value&&t.goToOption(A.Specific,e.id)},0:()=>{t.goToOption(A.Specific,e.id)}})},{immediate:!0})}),pe(()=>{t.listboxState.value===0&&u.value&&t.activationTrigger.value!==0&&E(()=>{var c,h;return(h=(c=R(i))==null?void 0:c.scrollIntoView)==null?void 0:h.call(c,{block:"nearest"})})});function g(c){if(e.disabled)return c.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),E(()=>{var h;return(h=R(t.buttonRef))==null?void 0:h.focus({preventScroll:!0})}))}function S(){if(e.disabled)return t.goToOption(A.Nothing);t.goToOption(A.Specific,e.id)}let y=Pe();function P(c){y.update(c)}function T(c){y.wasMoved(c)&&(e.disabled||u.value||t.goToOption(A.Specific,e.id,0))}function x(c){y.wasMoved(c)&&(e.disabled||u.value&&t.goToOption(A.Nothing))}return()=>{let{disabled:c}=e,h={active:u.value,selected:v.value,disabled:c},{id:s,value:d,disabled:p,...b}=e,D={id:s,ref:i,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onClick:g,onFocus:S,onPointerenter:P,onMouseenter:P,onPointermove:T,onMousemove:T,onPointerleave:x,onMouseleave:x};return W({ourProps:D,theirProps:b,slot:h,attrs:n,slots:a,name:"ListboxOption"})}}});function Ve(e){return me()?(ge(e),!0):!1}function J(e){return typeof e=="function"?e():ve(e)}const Me=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Be=Object.prototype.toString,ze=e=>Be.call(e)==="[object Object]",_e=()=>{};function We(e,a){function n(...o){return new Promise((t,i)=>{Promise.resolve(e(()=>a.apply(this,o),{fn:a,thisArg:this,args:o})).then(t).catch(i)})}return n}const le=e=>e();function He(e=le){const a=L(!0);function n(){a.value=!1}function o(){a.value=!0}const t=(...i)=>{a.value&&e(...i)};return{isActive:be(a),pause:n,resume:o,eventFilter:t}}function Ue(e){return e||ye()}function Je(e,a,n={}){const{eventFilter:o=le,...t}=n;return _(e,We(o,a),t)}function Ke(e,a,n={}){const{eventFilter:o,...t}=n,{eventFilter:i,pause:u,resume:v,isActive:m}=He(o);return{stop:Je(e,a,{...t,eventFilter:i}),pause:u,resume:v,isActive:m}}function qe(e,a=!0,n){Ue()?M(e,n):a?e():E(e)}function Ge(e){var a;const n=J(e);return(a=n==null?void 0:n.$el)!=null?a:n}const B=Me?window:void 0;function Y(...e){let a,n,o,t;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,t]=e,a=B):[a,n,o,t]=e,!a)return _e;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],u=()=>{i.forEach(r=>r()),i.length=0},v=(r,g,S,y)=>(r.addEventListener(g,S,y),()=>r.removeEventListener(g,S,y)),m=_(()=>[Ge(a),J(t)],([r,g])=>{if(u(),!r)return;const S=ze(g)?{...g}:g;i.push(...n.flatMap(y=>o.map(P=>v(r,y,P,S))))},{immediate:!0,flush:"post"}),l=()=>{m(),u()};return Ve(l),l}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",Qe=Xe();function Xe(){return j in C||(C[j]=C[j]||{}),C[j]}function Ye(e,a){return Qe[e]||a}function Ze(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const et={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Z="vueuse-storage";function tt(e,a,n,o={}){var t;const{flush:i="pre",deep:u=!0,listenToStorageChanges:v=!0,writeDefaults:m=!0,mergeDefaults:l=!1,shallow:r,window:g=B,eventFilter:S,onError:y=f=>{console.error(f)},initOnMounted:P}=o,T=(r?he:L)(typeof a=="function"?a():a);if(!n)try{n=Ye("getDefaultStorage",()=>{var f;return(f=B)==null?void 0:f.localStorage})()}catch(f){y(f)}if(!n)return T;const x=J(a),c=Ze(x),h=(t=o.serializer)!=null?t:et[c],{pause:s,resume:d}=Ke(T,()=>p(T.value),{flush:i,deep:u,eventFilter:S});return g&&v&&qe(()=>{Y(g,"storage",$),Y(g,Z,D),P&&$()}),P||$(),T;function p(f){try{if(f==null)n.removeItem(e);else{const F=h.write(f),k=n.getItem(e);k!==F&&(n.setItem(e,F),g&&g.dispatchEvent(new CustomEvent(Z,{detail:{key:e,oldValue:k,newValue:F,storageArea:n}})))}}catch(F){y(F)}}function b(f){const F=f?f.newValue:n.getItem(e);if(F==null)return m&&x!=null&&n.setItem(e,h.write(x)),x;if(!f&&l){const k=h.read(F);return typeof l=="function"?l(k,x):c==="object"&&!Array.isArray(k)?{...x,...k}:k}else return typeof F!="string"?F:h.read(F)}function D(f){$(f.detail)}function $(f){if(!(f&&f.storageArea!==n)){if(f&&f.key==null){T.value=x;return}if(!(f&&f.key!==e)){s();try{(f==null?void 0:f.newValue)!==h.write(T.value)&&(T.value=b(f))}catch(F){y(F)}finally{f?E(d):d()}}}}}function ct(e,a,n={}){const{window:o=B}=n;return tt(e,a,o==null?void 0:o.localStorage,n)}export{it as B,st as H,ut as N,dt as U,ct as u};
