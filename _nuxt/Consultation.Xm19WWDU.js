import{d as Q,a as z,j as r,k as c,v as e,x as n,y as h,s as t,a0 as g,M as C,I as Y,Q as ee,X as te,m as A,n as D,q as L,l as se,L as O,c as oe,Z as S,$ as V,A as m,a1 as ae,F as ne,C as le,B as ie,z as H,D as $,Y as re,U as ce,V as de,_ as me}from"./entry.JSmkQhmI.js";import{_ as ue}from"./Modal.i4sh6pHx.js";import{t as pe,o as ge,s as p,u as fe,a as y}from"./vee-validate-zod.esm.UABk5lzr.js";import{n as ye}from"./index.browser.zSPcFHrV.js";import{u as he,N as _e,H as be,U as xe,B as ve}from"./index.fdMASozD.js";const we={class:"lg:mb-10 lg:col-span-5"},ke={class:"bg-white bg-opacity-10 backdrop-blur-xl drop-shadow-lg p-5 rounded-xl border border-primary-300/10 flex items-center gap-4 max-w-xl xl:max-w-2xl"},Se=e("h3",{class:"font-semibold text-lg text-gray-100 mb-1"}," Book a free video consultation with Calendly ",-1),Ve=e("p",{class:"text-sm leading-2 text-gray-300 sm:max-w-md lg:max-w-none mb-0"}," Schedule at a time that suits you using our calender: ",-1),Ce={class:"inline-block"},Pe={class:"relative"},Ue=e("div",{class:"calendly h-[700px] z-10"},[e("iframe",{src:"https://calendly.com/windmillorthodonticsvideoconsultation/virtual-orthodontic-consultation?embed_domain=windmill-ortho.vercel.app/&embed_type=Inline",width:"100%",height:"100%",frameborder:"0",title:"Select a Date & Time - Calendly"})],-1),Ie=e("div",null,[e("h3",{class:"font-semibold text-lg text-gray-100 mb-1"}," Prefer a face to face consultation? "),e("p",{class:"text-sm leading-2 text-gray-300 sm:max-w-md lg:max-w-none mb-0"},[C(" Book a face to face appointment by calling your preferred practice directly. Ask for a "),e("em",null,"new patient appointment"),C(". Phone numbers are below. ")])],-1),bt=Q({__name:"CalendlyButton",setup(_){const l=z(!1);return(u,d)=>{const b=Y,B=ee,x=ue;return r(),c("div",we,[e("div",ke,[n(b,{name:"mdi:alarm-clock",class:"shrink-0 w-12 h-12 text-primary-400","aria-hidden":"true"}),e("div",null,[Se,Ve,e("div",Ce,[n(B,{to:"https://calendly.com/windmillorthodonticsvideoconsultation/virtual-orthodontic-consultation",class:"mt-4 block lg:hidden",size:"sm",text:"Schedule Now"}),n(B,{to:"#",class:"mt-4 hidden lg:block",size:"sm",text:"Schedule Now",onClick:d[0]||(d[0]=f=>l.value=!0)}),n(x,{modelValue:t(l),"onUpdate:modelValue":d[1]||(d[1]=f=>g(l)?l.value=f:null)},{default:h(()=>[e("div",Pe,[n(b,{name:"mdi:loading",class:"-z-10 absolute inset-0 m-auto w-12 h-12 text-primary-400 animate-spin","aria-hidden":"true"}),Ue])]),_:1},8,["modelValue"])])])]),e("div",{class:"cursor-pointer mt-6 bg-white bg-opacity-10 hover:bg-opacity-20 backdrop-blur-xl drop-shadow-lg p-5 rounded-xl border border-primary-300/10 flex items-center gap-4 max-w-xl xl:max-w-2xl",onClick:d[2]||(d[2]=(...f)=>u.scrollTo&&u.scrollTo(...f))},[n(b,{name:"mdi:arrow-down",class:"shrink-0 w-12 h-12 text-primary-400","aria-hidden":"true"}),Ie])])}}}),P=_=>(ce("data-v-fef4210c"),_=_(),de(),_),$e={class:"mx-auto lg:mr-0"},Be={class:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2"},Ne={for:"name",class:"block text-sm font-semibold text-gray-200"},Te={class:"mt-1.5"},qe={class:"text-rose-500 text-xs"},Me={key:0},Fe=P(()=>e("label",{for:"practice",class:"block text-sm font-semibold text-gray-200"},"Preferred Practice",-1)),ze={key:0,class:"w-full"},Ee={class:"relative mt-1.5"},Re={class:"block truncate"},je={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Ae={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary-500"},De={class:"col-span-2 lg:col-span-1"},Le={for:"email",class:"block text-sm font-semibold text-gray-200"},Oe={class:"mt-1.5"},He={class:"text-rose-500 text-xs"},Qe={class:"col-span-2 lg:col-span-1"},Ye=P(()=>e("label",{for:"phone-number",class:"block text-sm font-semibold text-gray-200"},"Phone number",-1)),We={class:"mt-1.5"},Xe={class:"text-rose-500 text-xs"},Ze={class:"sm:col-span-2 honey"},Ge=P(()=>e("label",{for:"website",class:"block text-sm font-medium text-gray-200"},"Website",-1)),Je={class:"mt-1"},Ke={class:"text-rose-500 text-xs"},et={class:"col-span-2"},tt=P(()=>e("label",{for:"message",class:"block text-sm font-semibold text-gray-200"}," Message ",-1)),st={class:"mt-1.5"},ot={class:"text-rose-500 text-xs"},at={class:"md:flex md:gap-6 lg:gap-16 items-center mt-6"},nt={class:"max-w-md my-4 text-xs text-gray-200 leading-2"},lt={key:0,class:"text-xs text-rose-500 mt-4"},it={class:"flex gap-3 items-start"},rt=P(()=>e("div",null,[e("p",{class:"mb-2"}," One of our friendly team will email or call you to discuss your smile goals. "),e("p",{class:"mb-2"}," Please note this is for private treatment only. ")],-1)),ct={class:"flex justify-end shrink-0"},dt=["disabled"],mt={key:0},ut={key:1},pt=Q({__name:"Consultation",async setup(_){let l,u;const d=te(),b=A`*[_type == "pages" && slug.current == 'contact'][0]`,{data:B,error:x}=([l,u]=D(()=>L(b)),l=await l,u(),l);if(se(),x.value)throw console.error(x),O({statusCode:404,statusMessage:"Page Not Found"});const f=A`*[_type == "practices"]{
  title,
  fullName,
  slug,
} | order(orderRank)`,{data:U,error:W}=([l,u]=D(()=>L(f)),l=await l,u(),l);if(W.value)throw console.error(x),O({statusCode:404,statusMessage:"Page Not Found"});const X=oe(()=>{const a=d.currentRoute.value.query.practice;if(a)return(a.charAt(0).toUpperCase()+a.slice(1)).replace(/-/g," ").replace(/(^\w{1})|(\s+\w{1})/g,i=>i.toUpperCase())}),E=he("campaign-store",{source:"organic",campaign:"Organic",variation:""});console.log("campaignStore"),console.log(E.value);const v=z(!1),w=z(""),Z=pe(ge({name:p().min(1,"Please enter your name"),email:p().min(1,"Required").email(),website:p().optional(),phone:p().optional(),message:p().optional(),practice:p().optional(),secret:p().optional()})),{handleSubmit:G,errors:k}=fe({validationSchema:Z,initialValues:{practice:X.value??U.value[0].title}}),{value:N}=y("name"),{value:T}=y("email"),{value:q}=y("website"),{value:M}=y("message"),{value:F}=y("phone"),{value:I}=y("practice");function J({values:a,errors:s,results:i}){console.log("onInvalidSubmit"),console.log(a),console.log(s)}const R=G(async a=>{if(a.website){console.log("Honeypot failed!"),console.log(a.website);return}v.value=!0;const s=ye();if(a.website!==void 0){w.value="Bot test failed! If you're human you shouldn't see this... Please try again.",v.value=!1;return}const i={name:a.name,email:a.email,website:a.website,phone:a.phone,message:a.message,practice:a.practice,secret:"secret-squirrel",formType:"Private treatment enquiry",replyToEmail:a.email,id:s,source:E.value.campaign};try{if((await $fetch("/api/forms/contact",{method:"POST",body:{form:i}})).statusCode!==200)throw new Error("Something went wrong, please try again");w.value="",window.location.href="/thank-you/free-consultation"}catch{v.value=!1,w.value="Something went wrong, please try again"}},J);return(a,s)=>{const i=Y;return r(),c("div",null,[e("form",{class:"pt-4 pb-6 lg:pt-2 lg:pb-0",onSubmit:s[6]||(s[6]=re((...o)=>t(R)&&t(R)(...o),["prevent"]))},[e("div",$e,[e("div",Be,[e("div",null,[e("label",Ne,[C(" Your Name "),n(i,{name:"mdi:asterisk",class:"inline-block w-3 h-3 text-primary-500 ml-0","aria-hidden":"true"})]),e("div",Te,[S(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=o=>g(N)?N.value=o:null),type:"text",name:"name",autocomplete:"name",class:"block w-full rounded-md border-0 px-3.5 py-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"},null,512),[[V,t(N)]]),e("span",qe,m(t(k).name),1)])]),t(U)?(r(),c("div",Me,[Fe,t(U)?(r(),c("div",ze,[n(t(ve),{modelValue:t(I),"onUpdate:modelValue":s[1]||(s[1]=o=>g(I)?I.value=o:null)},{default:h(()=>[e("div",Ee,[n(t(_e),{id:"listbox-label",class:"relative w-full cursor-default rounded-md bg-white py-3 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-primary-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-primary-300 sm:text-sm sm:leading-6"},{default:h(()=>[e("span",Re,m(t(I)),1),e("span",je,[n(i,{name:"mdi:chevron-down",class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),n(ae,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[n(t(be),{class:"absolute ml-0 list-style-none mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:h(()=>[(r(!0),c(ne,null,le(t(U),o=>(r(),ie(t(xe),{key:o.slug.current,value:o.title,as:"template"},{default:h(({active:K,selected:j})=>[e("li",{class:H(["relative cursor-default select-none py-2 pl-10 pr-4",K?"bg-gray-100 text-primary-900":"text-gray-900"])},[e("span",{class:H(["block truncate",j?"font-medium":"font-normal"])},m(o.title),3),j?(r(),c("span",Ae,[n(i,{class:"h-5 w-5","aria-hidden":"true",name:"mdi:check"})])):$("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])):$("",!0)])):$("",!0),e("div",De,[e("label",Le,[C(" Your Email "),n(i,{name:"mdi:asterisk",class:"inline-block w-3 h-3 text-primary-500 ml-0","aria-hidden":"true"})]),e("div",Oe,[S(e("input",{id:"email","onUpdate:modelValue":s[2]||(s[2]=o=>g(T)?T.value=o:null),type:"email",name:"email",autocomplete:"email",class:"block w-full rounded-md border-0 px-3.5 py-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"},null,512),[[V,t(T)]]),e("span",He,m(t(k).email),1)])]),e("div",Qe,[Ye,e("div",We,[S(e("input",{id:"phone-number","onUpdate:modelValue":s[3]||(s[3]=o=>g(F)?F.value=o:null),type:"tel",name:"phone-number",autocomplete:"tel",class:"block w-full rounded-md border-0 px-3.5 py-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"},null,512),[[V,t(F)]]),e("span",Xe,m(t(k).phone),1)])]),e("div",Ze,[Ge,e("div",Je,[S(e("input",{id:"website","onUpdate:modelValue":s[4]||(s[4]=o=>g(q)?q.value=o:null),name:"website",type:"text",autocomplete:"off",class:"py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-primary-500 focus:border-primary-500 border border-gray-300 rounded-md"},null,512),[[V,t(q)]]),e("span",Ke,m(t(k).website),1)])]),e("div",et,[tt,e("div",st,[S(e("textarea",{id:"message","onUpdate:modelValue":s[5]||(s[5]=o=>g(M)?M.value=o:null),placeholder:"Please tell us anything that might be relevant or about your smile goals...",name:"message",rows:"4",class:"block w-full rounded-md border-0 px-3.5 py-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"},null,512),[[V,t(M)]]),e("span",ot,m(t(k).message),1)])])]),e("div",at,[e("div",nt,[t(w)?(r(),c("p",lt,m(t(w)),1)):$("",!0),e("div",it,[e("div",null,[n(i,{name:"mdi:check",class:"block w-10 h-10 text-primary-500 ml-0","aria-hidden":"true"})]),rt])]),e("div",ct,[e("button",{type:"submit",disabled:t(v),class:"rounded-full bg-primary-500 hover:bg-primary-600 ring-1 ring-primary-50/50 uppercase px-6 py-4 text-lg font-semibold cursor-pointer text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600 transition duration-300 ease-in-out flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"},[t(v)?(r(),c("span",ut,[n(i,{name:"mdi:loading",class:"animate-spin h-5 w-5 mr-2","aria-hidden":"true"}),C(" Sending... ")])):(r(),c("span",mt,"Send!"))],8,dt)])])])],32)])}}}),xt=me(pt,[["__scopeId","data-v-fef4210c"]]);export{bt as _,xt as a};
