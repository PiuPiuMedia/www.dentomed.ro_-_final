import{d as _,a as D,o as w,f as x,j as c,k as f,v as t,s as k,Y as i,M as g,D as h,x as $}from"./entry.JSmkQhmI.js";import{a as j}from"./Button.yw9LWidk.js";const E=["data-active"],T={for:"file-input",class:"cursor-pointer w-full py-10"},B=t("span",{class:"text-center w-full block"},[g(" Drag and drop image files here, or "),t("strong",null,[t("em",null,"click")]),g(" to select from your computer. "),t("br"),t("span",{class:"text-sm opacity-80"},"Accepts .jpg and .png files.")],-1),L=_({__name:"Dropzone",emits:["filesDropped"],setup(o,{emit:a}){const n=a,r=D(!1);let l=null;function u(){r.value=!0,clearTimeout(l)}function d(){l=setTimeout(()=>{r.value=!1},50)}function y(e){d();const v=e.dataTransfer.files;v.length>0&&n("filesDropped",[...v])}const b=e=>{var s;((s=e==null?void 0:e.target)==null?void 0:s.files.length)>0&&n("filesDropped",[...e.target.files])};function p(e){e.preventDefault()}const m=["dragenter","dragover","dragleave","drop"];return w(()=>{m.forEach(e=>{document.body.addEventListener(e,p)})}),x(()=>{m.forEach(e=>{document.body.removeEventListener(e,p)})}),(e,s)=>(c(),f("div",{class:"w-full h-full mb-4 flex flex-col items-center justify-center border-dashed border-2 bg-gray-400/30 border-gray-400/40 rounded-lg","data-active":k(r),onDragenter:i(u,["prevent"]),onDragover:i(u,["prevent"]),onDragleave:i(d,["prevent"]),onDrop:i(y,["prevent"])},[t("label",T,[B,t("input",{id:"file-input",class:"hidden",type:"file",multiple:"",accept:"image/*",onChange:b},null,32)])],40,E))}}),C={key:0},N={class:"file group aspect-h-7 aspect-w-10 block w-full overflow-hidden rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-navy-500 focus-within:ring-offset-2 focus-within:ring-offset-gray-100"},V=["src","alt"],U=_({__name:"Preview",props:{file:{type:Object,required:!0}},emits:["remove"],setup(o){return(a,n)=>{const r=j;return o.file?(c(),f("div",C,[t("div",N,[o.file.url?(c(),f("img",{key:0,src:o.file.url,alt:o.file.pathname,class:"pointer-events-none object-cover group-hover:opacity-75"},null,8,V)):h("",!0)]),$(r,{class:"mt-2",color:"red",size:"xs",label:"Remove",onClick:n[0]||(n[0]=l=>a.$emit("remove",o.file))})])):h("",!0)}}});export{L as _,U as a};
